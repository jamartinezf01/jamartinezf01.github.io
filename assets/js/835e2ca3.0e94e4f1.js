"use strict";(self.webpackChunkp_my_dm=self.webpackChunkp_my_dm||[]).push([[8763],{8686:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"python/UT6 - POO/6.4_POO_avanzada","title":"6.4 POO avanzada","description":"En esta secci\xf3n se presentan conceptos avanzados de Programaci\xf3n Orientada a Objetos en Python. No son imprescindibles para empezar, pero ayudan a entender y dise\xf1ar sistemas m\xe1s grandes, como un juego con muchos tipos de personajes, enemigos, objetos y niveles.","source":"@site/docs/python/UT6 - POO/6.4_POO_avanzada.md","sourceDirName":"python/UT6 - POO","slug":"/python/UT6 - POO/6.4_POO_avanzada","permalink":"/docs/python/UT6 - POO/6.4_POO_avanzada","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"pythonSidebar","previous":{"title":"6.3 M\xe9todos de clase, est\xe1ticos y especiales","permalink":"/docs/python/UT6 - POO/6.3_metodos"}}');var i=a(4848),d=a(8453);const r={sidebar_position:4},o="6.4 POO avanzada",l={},t=[{value:"1\ufe0f\u20e3 <strong>Clases abstractas</strong> (<code>abc</code> module)",id:"1\ufe0f\u20e3-clases-abstractas-abc-module",level:2},{value:"\ud83d\udfe9 Qu\xe9 es una clase abstracta",id:"-qu\xe9-es-una-clase-abstracta",level:3},{value:"\ud83d\udfe6 Ejemplo: Entidad del juego",id:"-ejemplo-entidad-del-juego",level:3},{value:"2\ufe0f\u20e3 <strong>Interfaces</strong> (enfoque Pyth\xf3nico)",id:"2\ufe0f\u20e3-interfaces-enfoque-pyth\xf3nico",level:2},{value:"\ud83d\udfe9 Qu\xe9 es una interfaz (idea general)",id:"-qu\xe9-es-una-interfaz-idea-general",level:3},{value:"\ud83d\udfe6 Ejemplo con <code>ABC</code>: interfaz de guardado de partida",id:"-ejemplo-con-abc-interfaz-de-guardado-de-partida",level:3},{value:"\ud83d\udfe8 Interfaces informales: duck typing",id:"-interfaces-informales-duck-typing",level:3},{value:"3\ufe0f\u20e3 <strong>Mixins</strong>",id:"3\ufe0f\u20e3-mixins",level:2},{value:"\ud83d\udfe9 Qu\xe9 es un Mixin",id:"-qu\xe9-es-un-mixin",level:3},{value:"\ud83d\udfe6 Ejemplo: PuedeVolar y PuedeDisparar",id:"-ejemplo-puedevolar-y-puededisparar",level:3},{value:"4\ufe0f\u20e3 <strong>Dataclasses</strong> (<code>@dataclass</code>)",id:"4\ufe0f\u20e3-dataclasses-dataclass",level:2},{value:"\ud83d\udfe9 Por qu\xe9 <code>@dataclass</code>",id:"-por-qu\xe9-dataclass",level:3},{value:"\ud83d\udfe6 Ejemplo b\xe1sico con <code>@dataclass</code>",id:"-ejemplo-b\xe1sico-con-dataclass",level:3},{value:"\ud83d\udfe8 Dataclasses e igualdad",id:"-dataclasses-e-igualdad",level:3},{value:"\ud83d\udfe7 Dataclasses para configuraciones de nivel",id:"-dataclasses-para-configuraciones-de-nivel",level:3}];function c(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"64-poo-avanzada",children:"6.4 POO avanzada"})}),"\n",(0,i.jsx)(n.p,{children:"En esta secci\xf3n se presentan conceptos avanzados de Programaci\xf3n Orientada a Objetos en Python. No son imprescindibles para empezar, pero ayudan a entender y dise\xf1ar sistemas m\xe1s grandes, como un juego con muchos tipos de personajes, enemigos, objetos y niveles."}),"\n",(0,i.jsxs)(n.p,{children:["La idea es saber ",(0,i.jsx)(n.strong,{children:"que existen estas herramientas"}),", para poder reconocerlas cuando aparezcan en ejemplos reales, librer\xedas o proyectos m\xe1s grandes."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"1\ufe0f\u20e3-clases-abstractas-abc-module",children:["1\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Clases abstractas"})," (",(0,i.jsx)(n.code,{children:"abc"})," module)"]}),"\n",(0,i.jsx)(n.h3,{id:"-qu\xe9-es-una-clase-abstracta",children:"\ud83d\udfe9 Qu\xe9 es una clase abstracta"}),"\n",(0,i.jsxs)(n.p,{children:["Una ",(0,i.jsx)(n.strong,{children:"clase abstracta"})," es una clase que:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No se puede instanciar directamente"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Sirve como ",(0,i.jsx)(n.strong,{children:"modelo"})," o plantilla para otras clases."]}),"\n",(0,i.jsxs)(n.li,{children:["Define ",(0,i.jsx)(n.strong,{children:"qu\xe9 m\xe9todos deben existir"}),", pero no necesariamente c\xf3mo se implementan."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"En un videojuego, se puede pensar en una clase abstracta como:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u201cTodas las entidades del juego tendr\xe1n ciertos m\xe9todos (por ejemplo, ",(0,i.jsx)(n.code,{children:"actualizar"})," y ",(0,i.jsx)(n.code,{children:"dibujar"}),"), pero cada tipo concreto los implementara a su manera.\u201d"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"En Python se usan:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["La clase base ",(0,i.jsx)(n.code,{children:"ABC"})," (del m\xf3dulo ",(0,i.jsx)(n.code,{children:"abc"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["El decorador ",(0,i.jsx)(n.code,{children:"@abstractmethod"})," para marcar m\xe9todos que ",(0,i.jsx)(n.strong,{children:"deben"})," implementarse en las subclases."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-ejemplo-entidad-del-juego",children:"\ud83d\udfe6 Ejemplo: Entidad del juego"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="Clase abstracta para entidades del juego"',children:'from abc import ABC, abstractmethod\n\nclass EntidadJuego(ABC):\n    @abstractmethod\n    def actualizar(self, dt):\n        """Actualiza el estado de la entidad (dt = tiempo transcurrido)."""\n        pass\n\n    @abstractmethod\n    def dibujar(self):\n        """Dibuja la entidad en pantalla."""\n        pass\n\n\nclass Enemigo(EntidadJuego):\n    def __init__(self, nombre, vida):\n        self.nombre = nombre\n        self.vida = vida\n\n    def actualizar(self, dt):\n        print(f"{self.nombre} se mueve {dt} unidades de tiempo.")\n\n    def dibujar(self):\n        print(f"Dibujando al enemigo {self.nombre} con {self.vida} puntos de vida.")\n\n\n# e = EntidadJuego()     # \u274c Error: no se puede instanciar una clase abstracta\n\nenemigo = Enemigo("Esqueleto", 50)\nenemigo.actualizar(0.16)\nenemigo.dibujar()\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"explicacion",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"EntidadJuego"})," define ",(0,i.jsx)(n.strong,{children:"que"})," debe tener una entidad (",(0,i.jsx)(n.code,{children:"actualizar"}),", ",(0,i.jsx)(n.code,{children:"dibujar"}),"), pero no el detalle."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Enemigo"})," ",(0,i.jsx)(n.strong,{children:"est\xe1 obligado"})," a implementar esos m\xe9todos, o Python no dejar\xe1 instanciar la clase."]}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Ventajas:",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Obliga a que todas las subclases sigan un ",(0,i.jsx)(n.strong,{children:"contrato com\xfan"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Facilita que otras partes del juego puedan trabajar con colecciones de ",(0,i.jsx)(n.code,{children:"EntidadJuego"})," sin preocuparse de que tipo concreto es cada una."]}),"\n"]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"2\ufe0f\u20e3-interfaces-enfoque-pyth\xf3nico",children:["2\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Interfaces"})," (enfoque Pyth\xf3nico)"]}),"\n",(0,i.jsx)(n.h3,{id:"-qu\xe9-es-una-interfaz-idea-general",children:"\ud83d\udfe9 Qu\xe9 es una interfaz (idea general)"}),"\n",(0,i.jsxs)(n.p,{children:["En muchos lenguajes, una ",(0,i.jsx)(n.strong,{children:"interface"})," es un tipo especial que:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Solo declara ",(0,i.jsx)(n.strong,{children:"m\xe9todos"})," (nombres y par\xe1metros)."]}),"\n",(0,i.jsx)(n.li,{children:"No contiene implementaci\xf3n."}),"\n",(0,i.jsx)(n.li,{children:"Obliga a las clases que la implementan a definir esos m\xe9todos."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["En Python ",(0,i.jsx)(n.strong,{children:"no existe"})," una palabra clave ",(0,i.jsx)(n.code,{children:"interface"}),", pero se puede conseguir algo muy parecido con:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Clases abstractas (",(0,i.jsx)(n.code,{children:"ABC"}),") que solo definen m\xe9todos abstractos."]}),"\n",(0,i.jsxs)(n.li,{children:["O bien usando ",(0,i.jsx)(n.strong,{children:"duck typing"}),": \u201csi el objeto tiene los m\xe9todos que necesito, me sirve\u201d."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"-ejemplo-con-abc-interfaz-de-guardado-de-partida",children:["\ud83d\udfe6 Ejemplo con ",(0,i.jsx)(n.code,{children:"ABC"}),": interfaz de guardado de partida"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:"title=\"Interfaz de tipo 'RepositorioPartida'\"",children:'from abc import ABC, abstractmethod\n\nclass RepositorioPartida(ABC):\n    @abstractmethod\n    def guardar_partida(self, datos):\n        """Guarda los datos de la partida."""\n        pass\n\n    @abstractmethod\n    def cargar_partida(self, id_partida):\n        """Devuelve los datos de una partida a partir de su identificador."""\n        pass\n\n\nclass RepositorioMemoria(RepositorioPartida):\n    def __init__(self):\n        self._datos = {}\n\n    def guardar_partida(self, datos):\n        self._datos[datos["id"]] = datos\n\n    def cargar_partida(self, id_partida):\n        return self._datos.get(id_partida)\n\n\nclass RepositorioArchivo(RepositorioPartida):\n    def guardar_partida(self, datos):\n        # Ejemplo simplificado (en un caso real se usaria json y ficheros)\n        print(f"Guardando partida {datos[\'id\']} en disco...")\n\n    def cargar_partida(self, id_partida):\n        print(f"Cargando partida {id_partida} desde disco...")\n        return {"id": id_partida, "nivel": 3, "jugador": "Ana"}\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"explicacion",children:(0,i.jsxs)(n.p,{children:["Cualquier clase que implemente ",(0,i.jsx)(n.code,{children:"guardar_partida"})," y ",(0,i.jsx)(n.code,{children:"cargar_partida"})," puede tratarse como un ",(0,i.jsx)(n.code,{children:"RepositorioPartida"}),", sin importar si guarda los datos en memoria, en ficheros, en una base de datos, etc."]})}),"\n",(0,i.jsx)(n.h3,{id:"-interfaces-informales-duck-typing",children:"\ud83d\udfe8 Interfaces informales: duck typing"}),"\n",(0,i.jsxs)(n.p,{children:["En Python muchas veces ",(0,i.jsx)(n.strong,{children:"ni siquiera hace falta"})," heredar de ",(0,i.jsx)(n.code,{children:"ABC"}),".\nBasta con que los objetos tengan los m\xe9todos necesarios:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="Duck typing para entidades del juego"',children:'class EnemigoSimple:\n    def actualizar(self, dt):\n        print("Enemigo simple se mueve...")\n\n    def dibujar(self):\n        print("Dibujando enemigo simple")\n\n\nclass NPC:\n    def actualizar(self, dt):\n        print("NPC camina por el pueblo...")\n\n    def dibujar(self):\n        print("Dibujando NPC amigable")\n\n\ndef actualizar_y_dibujar(entidades, dt):\n    for entidad in entidades:\n        # Solo se asume que cada entidad tiene actualizar() y dibujar()\n        entidad.actualizar(dt)\n        entidad.dibujar()\n\n\nlista_entidades = [EnemigoSimple(), NPC()]\nactualizar_y_dibujar(lista_entidades, 0.16)\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"explicacion",children:(0,i.jsxs)(n.p,{children:["La funci\xf3n ",(0,i.jsx)(n.code,{children:"actualizar_y_dibujar"})," ",(0,i.jsx)(n.strong,{children:"no necesita saber"})," si est\xe1 trabajando con un ",(0,i.jsx)(n.code,{children:"EnemigoSimple"}),", un ",(0,i.jsx)(n.code,{children:"NPC"})," u otro tipo de entidad:\nle basta con que tengan los m\xe9todos ",(0,i.jsx)(n.code,{children:"actualizar"})," y ",(0,i.jsx)(n.code,{children:"dibujar"}),"."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"3\ufe0f\u20e3-mixins",children:["3\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Mixins"})]}),"\n",(0,i.jsx)(n.h3,{id:"-qu\xe9-es-un-mixin",children:"\ud83d\udfe9 Qu\xe9 es un Mixin"}),"\n",(0,i.jsxs)(n.p,{children:["Un ",(0,i.jsx)(n.strong,{children:"Mixin"})," es una clase pensada para ",(0,i.jsx)(n.strong,{children:"a\xf1adir funcionalidad concreta"})," a otras clases mediante ",(0,i.jsx)(n.strong,{children:"herencia m\xfaltiple"}),", sin representar por s\xed sola un tipo completo."]}),"\n",(0,i.jsx)(n.p,{children:"Ideas clave:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Un mixin ",(0,i.jsx)(n.strong,{children:"no suele instanciarse directamente"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Normalmente ",(0,i.jsx)(n.strong,{children:"no tiene estado complejo propio"})," (pocos atributos)."]}),"\n",(0,i.jsxs)(n.li,{children:["Se usa para \u201cmezclar\u201d capacidades: ",(0,i.jsx)(n.code,{children:"PuedeVolar"}),", ",(0,i.jsx)(n.code,{children:"PuedeDisparar"}),", ",(0,i.jsx)(n.code,{children:"TieneBarraVida"}),", etc."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"En videojuegos es muy \xfatil para combinar comportamientos:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"EnemigoVolador"})," que puede volar."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"EnemigoArtillero"})," que puede disparar."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"JefeFinal"})," que puede volar ",(0,i.jsx)(n.strong,{children:"y"})," disparar."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-ejemplo-puedevolar-y-puededisparar",children:"\ud83d\udfe6 Ejemplo: PuedeVolar y PuedeDisparar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="Ejemplo de mixins en un juego"',children:'class PuedeVolarMixin:\n    def mover(self):\n        print(f"{self.nombre} se desplaza volando por el escenario.")\n\n\nclass PuedeDispararMixin:\n    def atacar(self):\n        print(f"{self.nombre} dispara proyectiles al jugador.")\n\n\nclass EnemigoBase:\n    def __init__(self, nombre, vida):\n        self.nombre = nombre\n        self.vida = vida\n\n    def recibir_danio(self, cantidad):\n        self.vida = max(0, self.vida - cantidad)\n        print(f"{self.nombre} recibe {cantidad} puntos de danio. Vida: {self.vida}")\n\n\nclass EnemigoVolador(EnemigoBase, PuedeVolarMixin):\n    pass\n\n\nclass EnemigoArtillero(EnemigoBase, PuedeDispararMixin):\n    pass\n\n\nclass JefeFinal(EnemigoBase, PuedeVolarMixin, PuedeDispararMixin):\n    pass\n\n\nmurcielago = EnemigoVolador("Murcielago", 30)\ntorreta = EnemigoArtillero("Torreta", 80)\ndragon = JefeFinal("Dragon", 300)\n\nmurcielago.mover()\ntorreta.atacar()\ndragon.mover()\ndragon.atacar()\n'})}),"\n",(0,i.jsx)(n.admonition,{title:"Ventajas de los mixins",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Permiten ",(0,i.jsx)(n.strong,{children:"reutilizar comportamientos"})," sin duplicar c\xf3digo."]}),"\n",(0,i.jsxs)(n.li,{children:["Evitan jerarqu\xedas de herencia demasiado profundas (no hace falta ",(0,i.jsx)(n.code,{children:"EnemigoVoladorArtilleroConEscudo"})," etc.)."]}),"\n",(0,i.jsxs)(n.li,{children:["Cada mixin representa una ",(0,i.jsx)(n.strong,{children:"capacidad reutilizable"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Cuidado",type:"warning",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Como usan ",(0,i.jsx)(n.strong,{children:"herencia m\xfaltiple"}),", es importante mantener los mixins ",(0,i.jsx)(n.strong,{children:"peque\xf1os y espec\xedficos"}),", para no complicar demasiado el dise\xf1o."]}),"\n"]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"4\ufe0f\u20e3-dataclasses-dataclass",children:["4\ufe0f\u20e3 ",(0,i.jsx)(n.strong,{children:"Dataclasses"})," (",(0,i.jsx)(n.code,{children:"@dataclass"}),")"]}),"\n",(0,i.jsxs)(n.h3,{id:"-por-qu\xe9-dataclass",children:["\ud83d\udfe9 Por qu\xe9 ",(0,i.jsx)(n.code,{children:"@dataclass"})]}),"\n",(0,i.jsxs)(n.p,{children:["En muchos programas, incluidas aplicaciones y juegos, hay clases que se usan principalmente para ",(0,i.jsx)(n.strong,{children:"guardar datos"}),", con muy poca l\xf3gica:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Estadisticas de un personaje (",(0,i.jsx)(n.code,{children:"vida"}),", ",(0,i.jsx)(n.code,{children:"ataque"}),", ",(0,i.jsx)(n.code,{children:"defensa"}),", ",(0,i.jsx)(n.code,{children:"velocidad"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Configuracion de un nivel (",(0,i.jsx)(n.code,{children:"numero_enemigos"}),", ",(0,i.jsx)(n.code,{children:"duracion"}),", ",(0,i.jsx)(n.code,{children:"dificultad"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["Datos de la partida (",(0,i.jsx)(n.code,{children:"jugador"}),", ",(0,i.jsx)(n.code,{children:"nivel_actual"}),", ",(0,i.jsx)(n.code,{children:"tiempo_jugado"}),")."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["El m\xf3dulo ",(0,i.jsx)(n.code,{children:"dataclasses"})," (desde Python 3.7) permite definir este tipo de clases de forma muy compacta usando el decorador ",(0,i.jsx)(n.code,{children:"@dataclass"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Sin ",(0,i.jsx)(n.code,{children:"@dataclass"}),", una clase de datos t\xedpica ser\xeda:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class EstadisticasPersonaje:\n    def __init__(self, vida, ataque, defensa, velocidad):\n        self.vida = vida\n        self.ataque = ataque\n        self.defensa = defensa\n        self.velocidad = velocidad\n\n    def __repr__(self):\n        return (\n            f"EstadisticasPersonaje(vida={self.vida}, ataque={self.ataque}, "\n            f"defensa={self.defensa}, velocidad={self.velocidad})"\n        )\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Con ",(0,i.jsx)(n.code,{children:"@dataclass"})," todo esto se simplifica."]}),"\n",(0,i.jsxs)(n.h3,{id:"-ejemplo-b\xe1sico-con-dataclass",children:["\ud83d\udfe6 Ejemplo b\xe1sico con ",(0,i.jsx)(n.code,{children:"@dataclass"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="Ejemplo de dataclass para estadisticas de personaje"',children:"from dataclasses import dataclass\n\n@dataclass\nclass EstadisticasPersonaje:\n    vida: int\n    ataque: int\n    defensa: int\n    velocidad: int = 10   # valor por defecto\n\nstats1 = EstadisticasPersonaje(vida=100, ataque=20, defensa=15)\nstats2 = EstadisticasPersonaje(vida=120, ataque=18, defensa=20, velocidad=8)\n\nprint(stats1)\nprint(stats2.vida)\n"})}),"\n",(0,i.jsx)(n.admonition,{title:"Ventajas",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@dataclass"})," genera autom\xe1ticamente:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"__init__"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"__repr__"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"__eq__"})," (comparaci\xf3n por valores)"]}),"\n",(0,i.jsx)(n.li,{children:"y otros m\xe9todos utilitarios si se piden."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Menos c\xf3digo repetitivo para clases sencillas de datos."}),"\n",(0,i.jsx)(n.li,{children:"Mas legible: la clase se parece a la definicion de una \u201cplantilla de datos\u201d."}),"\n"]})}),"\n",(0,i.jsx)(n.h3,{id:"-dataclasses-e-igualdad",children:"\ud83d\udfe8 Dataclasses e igualdad"}),"\n",(0,i.jsxs)(n.p,{children:["Como ",(0,i.jsx)(n.code,{children:"@dataclass"})," genera ",(0,i.jsx)(n.code,{children:"__eq__"}),", se pueden comparar objetos por sus ",(0,i.jsx)(n.strong,{children:"atributos"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="Comparar dataclasses por valores"',children:"stats_a = EstadisticasPersonaje(100, 20, 15, 10)\nstats_b = EstadisticasPersonaje(100, 20, 15, 10)\n\nprint(stats_a == stats_b)  # True (mismos valores)\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Sin ",(0,i.jsx)(n.code,{children:"@dataclass"}),", la comparaci\xf3n por defecto ser\xeda por ",(0,i.jsx)(n.strong,{children:"identidad de objeto"})," (False salvo que sea el mismo objeto en memoria)."]})}),"\n",(0,i.jsx)(n.h3,{id:"-dataclasses-para-configuraciones-de-nivel",children:"\ud83d\udfe7 Dataclasses para configuraciones de nivel"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:'title="Dataclass para configuracion de nivel"',children:"from dataclasses import dataclass\n\n@dataclass\nclass ConfigNivel:\n    id_nivel: int\n    nombre: str\n    numero_enemigos: int\n    duracion_segundos: int\n    dificultad: str = \"normal\"\n\nnivel_1 = ConfigNivel(\n    id_nivel=1,\n    nombre=\"Bosque inicial\",\n    numero_enemigos=10,\n    duracion_segundos=300\n)\n\nprint(nivel_1)\n# ConfigNivel(id_nivel=1, nombre='Bosque inicial',\n#             numero_enemigos=10, duracion_segundos=300,\n#             dificultad='normal')\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"explicacion",children:(0,i.jsx)(n.p,{children:"Con muy pocas l\xedneas se obtiene una clase clara y f\xe1cil de usar para transportar datos por el programa."})}),"\n",(0,i.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>r,x:()=>o});var s=a(6540);const i={},d=s.createContext(i);function r(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);