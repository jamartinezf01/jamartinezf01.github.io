"use strict";(self.webpackChunkp_my_dm=self.webpackChunkp_my_dm||[]).push([[7091],{1608:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"python/UT7 - Persistencia/index","title":"UT7 - Persistencia","description":"En programaci\xf3n, la mayor\xeda de estructuras de datos viven en memoria (RAM) cuando el programa termina, todo desaparece. La persistencia resuelve esto permitiendo guardar informaci\xf3n fuera del programa (disco/base de datos) y recuperarla m\xe1s tarde, incluso en otra ejecuci\xf3n.","source":"@site/docs/python/UT7 - Persistencia/index.md","sourceDirName":"python/UT7 - Persistencia","slug":"/python/UT7 - Persistencia/","permalink":"/docs/python/UT7 - Persistencia/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0},"sidebar":"pythonSidebar","previous":{"title":"\ud83d\ude80 Proyecto: StarPy Logistics Corporation","permalink":"/docs/python/UT6 - POO/Ejercicios POO/proyecto_starpy/enunciado"},"next":{"title":"7.1 Excepciones en Python","permalink":"/docs/python/UT7 - Persistencia/7.1 Excepciones"}}');var i=n(4848),a=n(8453);const o={sidebar_position:0},c="UT7 - Persistencia",t={},l=[{value:"1\ufe0f\u20e3 <strong>Qu\xe9 es persistencia</strong> (y qu\xe9 no)",id:"1\ufe0f\u20e3-qu\xe9-es-persistencia-y-qu\xe9-no",level:2},{value:"2\ufe0f\u20e3 Por qu\xe9 importa en programas reales",id:"2\ufe0f\u20e3-por-qu\xe9-importa-en-programas-reales",level:2},{value:"3\ufe0f\u20e3 <strong>Ficheros vs Base de datos</strong>",id:"3\ufe0f\u20e3-ficheros-vs-base-de-datos",level:2},{value:"4\ufe0f\u20e3 Por qu\xe9 las excepciones son parte de la persistencia",id:"4\ufe0f\u20e3-por-qu\xe9-las-excepciones-son-parte-de-la-persistencia",level:2}];function d(e){const s={admonition:"admonition",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"ut7---persistencia",children:"UT7 - Persistencia"})}),"\n",(0,i.jsxs)(s.p,{children:["En programaci\xf3n, la mayor\xeda de estructuras de datos viven en ",(0,i.jsx)(s.strong,{children:"memoria (RAM)"}),": variables, listas, diccionarios, etc. El problema es que la memoria es ",(0,i.jsx)(s.strong,{children:"vol\xe1til"}),": cuando el programa termina, todo desaparece. La ",(0,i.jsx)(s.strong,{children:"persistencia"})," resuelve esto permitiendo ",(0,i.jsx)(s.strong,{children:"guardar"})," informaci\xf3n fuera del programa (disco/base de datos) y ",(0,i.jsx)(s.strong,{children:"recuperarla"})," m\xe1s tarde, incluso en otra ejecuci\xf3n."]}),"\n",(0,i.jsx)(s.p,{children:"Esta unidad se centra en tres piezas que, en la pr\xe1ctica, van juntas:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Ficheros"})," (texto/JSON/CSV y tambi\xe9n binarios)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Bases de datos"})," (con SQLite como primer paso realista)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Excepciones"})," (para que el programa no \u201creviente\u201d ante problemas inevitables)."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"1\ufe0f\u20e3-qu\xe9-es-persistencia-y-qu\xe9-no",children:["1\ufe0f\u20e3 ",(0,i.jsx)(s.strong,{children:"Qu\xe9 es persistencia"})," (y qu\xe9 no)"]}),"\n",(0,i.jsx)(s.p,{children:"Se entiende por persistencia el proceso de:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Serializar"})," datos (convertir estructuras en algo guardable: texto/bytes/filas en tablas)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Almacenarlos"})," en un soporte estable (fichero, base de datos\u2026)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Deserializarlos"})," despu\xe9s (leerlos y reconstruir la estructura original)."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Persistencia no es solo \u201cguardar\u201d: tambi\xe9n implica ",(0,i.jsx)(s.strong,{children:"recuperar con fiabilidad"}),", ",(0,i.jsx)(s.strong,{children:"mantener consistencia"})," y ",(0,i.jsx)(s.strong,{children:"gestionar fallos"})," (archivos corruptos, permisos, datos incompletos\u2026)."]}),"\n",(0,i.jsx)(s.p,{children:"En esta UT se cubrir\xe1n formas habituales:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Persistencia en ",(0,i.jsx)(s.strong,{children:"ficheros"}),": JSON/CSV (y ficheros de texto para casos simples)."]}),"\n",(0,i.jsxs)(s.li,{children:["Persistencia en ",(0,i.jsx)(s.strong,{children:"BBDD"}),": SQLite con SQL b\xe1sico."]}),"\n",(0,i.jsxs)(s.li,{children:["Persistencia robusta: usando ",(0,i.jsx)(s.strong,{children:"excepciones"})," y buenas pr\xe1cticas."]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"2\ufe0f\u20e3-por-qu\xe9-importa-en-programas-reales",children:"2\ufe0f\u20e3 Por qu\xe9 importa en programas reales"}),"\n",(0,i.jsx)(s.p,{children:"Sin persistencia, una app solo sirve \u201cmientras est\xe1 abierta\u201d. Con persistencia se habilitan cosas t\xedpicas como:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Aplicaciones con estado"}),": lista de tareas, favoritos, historial, configuraci\xf3n."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Reutilizaci\xf3n de resultados"}),": exportar informes, guardar c\xe1lculos."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Trazabilidad"}),": registrar acciones (logs) para depurar o auditar."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Intercambio"}),": CSV/JSON permiten mover datos entre herramientas."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Escalabilidad funcional"}),": cuando los datos crecen, una BBDD evita tener que reinventar b\xfasquedas y filtrados."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"En resumen: persistencia convierte scripts en programas \xfatiles a medio y largo plazo."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.h2,{id:"3\ufe0f\u20e3-ficheros-vs-base-de-datos",children:["3\ufe0f\u20e3 ",(0,i.jsx)(s.strong,{children:"Ficheros vs Base de datos"})]}),"\n",(0,i.jsxs)(s.p,{children:["No se elige por moda, se elige por ",(0,i.jsx)(s.strong,{children:"necesidad"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Ficheros (JSON/CSV/TXT)"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Ventajas:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Simplicidad (pocos pasos, pocas dependencias)."}),"\n",(0,i.jsx)(s.li,{children:"Portabilidad (se copia y listo)."}),"\n",(0,i.jsx)(s.li,{children:"Legibilidad (JSON/CSV se pueden abrir y entender)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Inconvenientes:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Consultas complejas cuestan (filtrar/ordenar requiere cargar y procesar)."}),"\n",(0,i.jsx)(s.li,{children:"Riesgo de corrupci\xf3n si se escribe mal o se interrumpe (hay que cuidar la escritura)."}),"\n",(0,i.jsx)(s.li,{children:"Gesti\xf3n de concurrencia muy limitada (dos procesos escribiendo a la vez = problema)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Base de datos (SQLite)"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Ventajas:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Consultas r\xe1pidas y potentes (filtrar/ordenar/agrupar con SQL)."}),"\n",(0,i.jsx)(s.li,{children:"Integridad (restricciones: UNIQUE, NOT NULL, relaciones si se dise\xf1an)."}),"\n",(0,i.jsx)(s.li,{children:"Transacciones (o se guarda todo, o no se guarda nada)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Inconvenientes:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Hay que dise\xf1ar tablas y aprender SQL m\xednimo."}),"\n",(0,i.jsx)(s.li,{children:"Errores nuevos (integridad, bloqueos, esquema\u2026)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{title:"c\xf3mo decidir sin \u201cadivinar\u201d",type:"note",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Si los datos son pocos y simples \u2192 ",(0,i.jsx)(s.strong,{children:"JSON/CSV"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Si crecen, se consultan mucho o hay reglas de integridad \u2192 ",(0,i.jsx)(s.strong,{children:"SQLite"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"4\ufe0f\u20e3-por-qu\xe9-las-excepciones-son-parte-de-la-persistencia",children:"4\ufe0f\u20e3 Por qu\xe9 las excepciones son parte de la persistencia"}),"\n",(0,i.jsx)(s.p,{children:"Persistir datos implica depender de cosas externas: disco, permisos, rutas, encoding, formato, base de datos\u2026 y todo eso puede fallar."}),"\n",(0,i.jsx)(s.p,{children:"La gesti\xf3n de excepciones permite:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Detectar fallos esperables"})," (archivo no existe, JSON corrupto, tabla no existe)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mantener recursos bajo control"})," (cerrar archivos, cerrar conexiones)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Evitar estados inconsistentes"})," (datos guardados \u201ca medias\u201d)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mostrar mensajes \xfatiles"}),": uno para el usuario (claro) y otro para depuraci\xf3n (detallado)."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"En esta UT se trabajar\xe1 el enfoque de \u201cfallar bien\u201d: no ocultar errores, sino manejarlos con criterio."}),"\n",(0,i.jsx)(s.hr,{})]})}function p(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var r=n(6540);const i={},a=r.createContext(i);function o(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);