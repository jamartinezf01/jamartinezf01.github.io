"use strict";(self.webpackChunkp_my_dm=self.webpackChunkp_my_dm||[]).push([[4072],{3272:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>x});const l=JSON.parse('{"id":"salva/lenguajes-de-marcas/6 Transformacion/XSLT/Programacion","title":"Programar plantillas","description":"Una vez comprendida la estructura general de las hojas de estilo y c\xf3mo se genera HTML, es momento de aprender a programar el contenido de una plantilla: c\xf3mo insertar valores, recorrer nodos, aplicar condiciones, generar atributos, etc.","source":"@site/docs/salva/lenguajes-de-marcas/6 Transformacion/XSLT/Programacion.md","sourceDirName":"salva/lenguajes-de-marcas/6 Transformacion/XSLT","slug":"/salva/lenguajes-de-marcas/6 Transformacion/XSLT/Programacion","permalink":"/docs/salva/lenguajes-de-marcas/6 Transformacion/XSLT/Programacion","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3}}');var r=s(4848),o=s(8453),a=s(1470),d=s(9365);const c={sidebar_position:3},i="Programar plantillas",t={},x=[{value:"1. <strong>Mostrar contenido: <code>&lt;xsl:value-of&gt;</code></strong>",id:"1-mostrar-contenido-xslvalue-of",level:2},{value:"2. <strong>A\xf1adir texto adicional: <code>&lt;xsl:text&gt;</code></strong>",id:"2-a\xf1adir-texto-adicional-xsltext",level:2},{value:"3. <strong>Insertar atributos: <code>{}</code> y <code>&lt;xsl:attribute&gt;</code></strong>",id:"3-insertar-atributos--y-xslattribute",level:2},{value:"Ejemplo: mostrar productos con su imagen",id:"ejemplo-mostrar-productos-con-su-imagen",level:4},{value:"4.  <strong>Crear bucles: <code>&lt;xsl:for-each&gt;</code></strong>",id:"4--crear-bucles-xslfor-each",level:2},{value:"Ejemplo: mostrar todos los productos del cat\xe1logo",id:"ejemplo-mostrar-todos-los-productos-del-cat\xe1logo",level:4},{value:"5.   <strong>Ordenar resultados: <code>&lt;xsl:sort&gt;</code></strong>",id:"5---ordenar-resultados-xslsort",level:2},{value:"Ejemplo: mostrar los productos del cat\xe1logo ordenados por precio (descendente)",id:"ejemplo-mostrar-los-productos-del-cat\xe1logo-ordenados-por-precio-descendente",level:4},{value:"Par\xe1metros \xfatiles de <code>&lt;xsl:sort&gt;</code>",id:"par\xe1metros-\xfatiles-de-xslsort",level:4},{value:"6. <strong>Condiciones simples: <code>&lt;xsl:if&gt;</code></strong>",id:"6-condiciones-simples-xslif",level:2},{value:"Ejemplo: mostrar un mensaje solo si el producto es &quot;destacado&quot;",id:"ejemplo-mostrar-un-mensaje-solo-si-el-producto-es-destacado",level:4},{value:"7. <strong>Condiciones m\xfaltiples: <code>&lt;xsl:choose&gt;</code></strong>",id:"7-condiciones-m\xfaltiples-xslchoose",level:2},{value:"Ejemplo: mostrar un mensaje seg\xfan el nivel de stock (<code>@unidades</code>)",id:"ejemplo-mostrar-un-mensaje-seg\xfan-el-nivel-de-stock-unidades",level:4},{value:"8. <strong>Declarar variables: <code>&lt;xsl:variable&gt;</code></strong>",id:"8-declarar-variables-xslvariable",level:2},{value:"\xbfC\xf3mo se declara una variable?",id:"c\xf3mo-se-declara-una-variable",level:3},{value:"\xbfC\xf3mo se utiliza una variable?",id:"c\xf3mo-se-utiliza-una-variable",level:3},{value:"Ejemplo: calcular el total de un producto (<code>precio \xd7 cantidad</code>) en un pedido",id:"ejemplo-calcular-el-total-de-un-producto-precio--cantidad-en-un-pedido",level:4},{value:"9. <strong>Errores comunes en XSLT y c\xf3mo evitarlos</strong>",id:"9-errores-comunes-en-xslt-y-c\xf3mo-evitarlos",level:2}];function h(e){const n={admonition:"admonition",br:"br",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"programar-plantillas",children:"Programar plantillas"})}),"\n",(0,r.jsxs)(n.p,{children:["Una vez comprendida la estructura general de las hojas de estilo y c\xf3mo se genera HTML, es momento de aprender a ",(0,r.jsx)(n.strong,{children:"programar el contenido de una plantilla"}),": c\xf3mo insertar valores, recorrer nodos, aplicar condiciones, generar atributos, etc."]}),"\n",(0,r.jsxs)(n.p,{children:["Todo esto se hace ",(0,r.jsx)(n.strong,{children:"dentro de la plantilla principal"}),", normalmente la que se aplica al nodo ra\xedz (",(0,r.jsx)(n.code,{children:'<xsl:template match="/">'}),")."]}),"\n",(0,r.jsxs)(n.admonition,{title:"FICHEROS EJEMPLOS",type:"info",children:[(0,r.jsxs)(n.p,{children:["En esta secci\xf3n utilizaremos el ejemplo que te puedes descargar en \ud83d\udc49 ",(0,r.jsx)("a",{href:"/recursos/ACTIVIDAD TIENDA.rar",download:!0,children:(0,r.jsx)(n.strong,{children:"este enlace"})})," para explicar la programaci\xf3n con XSLT."]}),(0,r.jsxs)(n.p,{children:["El archivo ",(0,r.jsx)(n.strong,{children:"ACTIVIDAD TIENDA.rar"})," contiene:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["directorio ",(0,r.jsx)(n.strong,{children:"css"})," con la hoja de estilos css"]}),"\n",(0,r.jsxs)(n.li,{children:["directorio ",(0,r.jsx)(n.strong,{children:"img"})," con las im\xe1genes necesarias para desarrollar el ejemplo"]}),"\n",(0,r.jsxs)(n.li,{children:["fichero ",(0,r.jsx)(n.strong,{children:"tienda.html"})," es la referencia de c\xf3mo tiene que quedar la transformaci\xf3n."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"3 ficheros .xml"})," que ser\xe1n los datos de entrada de nuestra transformaci\xf3n."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["Puedes descargar la soluci\xf3n \ud83d\udc49 ",(0,r.jsx)("a",{href:"/recursos/tienda.xsl",download:!0,children:(0,r.jsx)(n.strong,{children:"aqu\xed"})})]})]}),"\n",(0,r.jsxs)(n.h2,{id:"1-mostrar-contenido-xslvalue-of",children:["1. ",(0,r.jsxs)(n.strong,{children:["Mostrar contenido: ",(0,r.jsx)(n.code,{children:"<xsl:value-of>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["La instrucci\xf3n ",(0,r.jsx)(n.code,{children:"<xsl:value-of>"})," se utiliza para ",(0,r.jsx)(n.strong,{children:"mostrar el contenido de un nodo del XML"}),".",(0,r.jsx)(n.br,{}),"\n","Es la forma m\xe1s sencilla de ",(0,r.jsx)(n.strong,{children:"insertar datos din\xe1micos"})," en el HTML generado desde una plantilla XSLT.\nLa sintaxis es:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:value-of select="expresi\xf3n XPath"/>\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["El atributo ",(0,r.jsx)(n.code,{children:"select"})," contiene una ",(0,r.jsx)(n.strong,{children:"expresi\xf3n XPath"})," que indica qu\xe9 nodo del XML se desea mostrar."]}),"\n",(0,r.jsxs)(n.li,{children:["El contenido se inserta ",(0,r.jsx)(n.strong,{children:"como texto plano"})," (no se interpretan etiquetas ni nodos hijos)."]}),"\n"]}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(d.A,{value:"xml",label:"XML entrada",children:[(0,r.jsxs)(n.p,{children:["Fragmento del XML (",(0,r.jsx)(n.code,{children:"tienda.xml"}),")"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<producto id="p01" unidades="25">\n  <nombre>Polvos de cuerno de unicornio</nombre>\n  <precio>25</precio>\n  <imagen>PolvosUnicornio.jpg</imagen>\n</producto>\n'})})]}),(0,r.jsxs)(d.A,{value:"xslt",label:"XSLT",default:!0,children:[(0,r.jsxs)(n.p,{children:["C\xf3digo en ",(0,r.jsx)(n.code,{children:"tienda.xsl"})," (plantilla \xfanica)"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:template match="/">\n  <html>\n    <body>\n      <h1>Cat\xe1logo</h1>\n      <xsl:for-each select="tienda/catalogo/producto">\n        <div class="producto">\n          <p><xsl:value-of select="nombre"/></p>\n          <p>Precio: <xsl:value-of select="precio"/> \ud83d\udcb0</p>\n        </div>\n      </xsl:for-each>\n    </body>\n  </html>\n</xsl:template>\n'})})]}),(0,r.jsxs)(d.A,{value:"html",label:"HTML salida",children:[(0,r.jsxs)(n.p,{children:["Resultado en HTML (",(0,r.jsx)(n.code,{children:"tienda.html"}),")"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>Cat\xe1logo</h1>\n<div class="producto">\n  <p>Polvos de cuerno de unicornio</p>\n  <p>Precio: 25 \ud83d\udcb0</p>\n</div>\n'})})]})]}),"\n",(0,r.jsx)(n.div,{children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Si el nodo no existe, ",(0,r.jsx)(n.strong,{children:"no se muestra nada"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Solo se muestra el texto del nodo. Si el nodo tiene hijos, estos ",(0,r.jsx)(n.strong,{children:"no se incluyen"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Si se desea a\xf1adir texto adicional (como s\xedmbolos, unidades, etc.), puede colocarse fuera del ",(0,r.jsx)(n.code,{children:"value-of"})," o combinarse con ",(0,r.jsx)(n.code,{children:"<xsl:text>"}),"."]}),"\n"]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"2-a\xf1adir-texto-adicional-xsltext",children:["2. ",(0,r.jsxs)(n.strong,{children:["A\xf1adir texto adicional: ",(0,r.jsx)(n.code,{children:"<xsl:text>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["En XSLT se pueden insertar s\xedmbolos, palabras fijas y signos de puntuaci\xf3n mediante ",(0,r.jsx)(n.code,{children:"<xsl:text>"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<xsl:text>Texto que se quiere insertar</xsl:text>\n"})}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<producto id="p01" unidades="25">\n  <nombre>Polvos de cuerno de unicornio</nombre>\n  <precio>25</precio>\n  <imagen>PolvosUnicornio.jpg</imagen>\n</producto>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:output method="html" indent="yes"/>\n  <xsl:template match="/">\n    <html>\n      <body>\n        <h1>Cat\xe1logo</h1>\n        <xsl:for-each select="tienda/catalogo/producto">\n          <div class="producto">\n            <p>\n              <xsl:text>Producto: </xsl:text>\n              <xsl:value-of select="nombre"/>\n              <xsl:text>.</xsl:text>\n            </p>\n            <p>\n              <xsl:text>Precio: </xsl:text>\n              <xsl:value-of select="precio"/>\n              <xsl:text> \ud83d\udcb0</xsl:text>\n            </p>\n          </div>\n        </xsl:for-each>\n      </body>\n    </html>\n  </xsl:template>\n\n</xsl:stylesheet>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>Cat\xe1logo</h1>\n<div class="producto">\n  <p>Producto: Polvos de cuerno de unicornio.</p>\n  <p>Precio: 25 \ud83d\udcb0</p>\n</div>\n'})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"3-insertar-atributos--y-xslattribute",children:["3. ",(0,r.jsxs)(n.strong,{children:["Insertar atributos: ",(0,r.jsx)(n.code,{children:"{}"})," y ",(0,r.jsx)(n.code,{children:"<xsl:attribute>"})]})]}),"\n",(0,r.jsx)(n.p,{children:"En XSLT, los atributos HTML pueden generarse de dos formas:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Usando llaves ",(0,r.jsx)(n.code,{children:"{}"})," directamente dentro del atributo (m\xe1s simple y habitual)."]}),"\n",(0,r.jsxs)(n.li,{children:["Usando la instrucci\xf3n ",(0,r.jsx)(n.code,{children:"<xsl:attribute>"})," para casos m\xe1s complejos o condicionales."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Ambas formas permiten ",(0,r.jsx)(n.strong,{children:"insertar valores din\xe1micos"})," en atributos como ",(0,r.jsx)(n.code,{children:"src"}),", ",(0,r.jsx)(n.code,{children:"alt"}),", ",(0,r.jsx)(n.code,{children:"class"}),", etc."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<elemento atributo="texto/{expresi\xf3n XPath}/m\xe1sTexto"/>\n\nPermite insertar el valor de una expresi\xf3n XPath directamente dentro de un atributo.\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:attribute name="nombreAtributo">\n  valor o expresi\xf3n\n</xsl:attribute>\n\nCrea un atributo de forma din\xe1mica dentro de una etiqueta.\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-mostrar-productos-con-su-imagen",children:"Ejemplo: mostrar productos con su imagen"}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<producto id="p01" unidades="25">\n  <nombre>Polvos de cuerno de unicornio</nombre>\n  <precio>25</precio>\n  <imagen>PolvosUnicornio.jpg</imagen>\n</producto>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:template match="/">\n  <html>\n    <body>\n      <h1>Cat\xe1logo</h1>\n      <xsl:for-each select="tienda/catalogo/producto">\n        <div class="producto">\n          \x3c!-- Atributo generado con {} --\x3e\n          <img src="img/{imagen}" alt="{nombre}" width="100"/>\n\n          \x3c!-- Atributo generado con <xsl:attribute> --\x3e\n          <p>\n            <xsl:attribute name="class">\n              <xsl:choose>\n                <xsl:when test="@unidades &gt; 10">stock-alto</xsl:when>\n                <xsl:otherwise>stock-bajo</xsl:otherwise>\n              </xsl:choose>\n            </xsl:attribute>\n            <xsl:value-of select="nombre"/>\n          </p>\n        </div>\n      </xsl:for-each>\n    </body>\n  </html>\n</xsl:template>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>Cat\xe1logo</h1>\n<div class="producto">\n  <img src="img/PolvosUnicornio.jpg" alt="Polvos de cuerno de unicornio" width="100"/>\n  <p class="stock-alto">Polvos de cuerno de unicornio</p>\n</div>\n'})})})]}),"\n",(0,r.jsxs)(n.admonition,{title:"\xbfCu\xe1ndo usar cada forma?",type:"tip",children:[(0,r.jsxs)(n.p,{children:["Si el valor del atributo es directo, se recomienda usar ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"{}"})}),"."]}),(0,r.jsxs)(n.p,{children:["Si es necesario aplicar condiciones o generar el valor din\xe1micamente, utiliza ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"<xsl:attribute>"})}),"."]}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Situaci\xf3n"}),(0,r.jsx)(n.th,{children:"Recomendaci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Atributo simple con valor fijo o directo"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"{}"})," dentro del atributo"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Atributo condicional o complejo"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<xsl:attribute>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:["Necesidad de ",(0,r.jsx)(n.code,{children:"if"})," / ",(0,r.jsx)(n.code,{children:"choose"})]}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"<xsl:attribute>"})," + l\xf3gica XPath"]})]})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"4--crear-bucles-xslfor-each",children:["4.  ",(0,r.jsxs)(n.strong,{children:["Crear bucles: ",(0,r.jsx)(n.code,{children:"<xsl:for-each>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["La instrucci\xf3n ",(0,r.jsx)(n.code,{children:"<xsl:for-each>"})," permite recorrer un ",(0,r.jsx)(n.strong,{children:"conjunto de nodos seleccionados mediante XPath"})," y aplicar una misma estructura de salida a cada uno de ellos."]}),"\n",(0,r.jsxs)(n.p,{children:["Se utiliza cuando se desea generar un bloque de contenido repetido ",(0,r.jsx)(n.strong,{children:"para cada nodo de una lista"}),", como por ejemplo para mostrar varios elementos del XML con el mismo formato."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:for-each select="expresi\xf3n XPath">\n  \x3c!-- acciones repetidas por cada nodo --\x3e\n</xsl:for-each>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-mostrar-todos-los-productos-del-cat\xe1logo",children:"Ejemplo: mostrar todos los productos del cat\xe1logo"}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<catalogo>\n  <producto id="p01" unidades="25">\n    <nombre>Polvos de cuerno de unicornio</nombre>\n    <precio>25</precio>\n  </producto>\n  <producto id="p02" unidades="10">\n    <nombre>Ra\xedz de mandr\xe1gora</nombre>\n    <precio>30</precio>\n  </producto>\n</catalogo>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet version="1.0"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n  <xsl:output method="html" indent="yes"/>\n  <xsl:strip-space elements="*"/>\n\n  <xsl:template match="/">\n    <html>\n      <body>\n        <h1>\ud83e\uddea Cat\xe1logo</h1>\n        <xsl:for-each select="tienda/catalogo/producto">\n          <div class="producto">\n            <p><strong><xsl:value-of select="nombre"/></strong></p>\n            <p>Precio: <xsl:value-of select="precio"/> \ud83d\udcb0</p>\n          </div>\n        </xsl:for-each>\n      </body>\n    </html>\n  </xsl:template>\n\n</xsl:stylesheet>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>\ud83e\uddea Cat\xe1logo</h1>\n<div class="producto">\n  <p><strong>Polvos de cuerno de unicornio</strong></p>\n  <p>Precio: 25 \ud83d\udcb0</p>\n</div>\n<div class="producto">\n  <p><strong>Ra\xedz de mandr\xe1gora</strong></p>\n  <p>Precio: 30 \ud83d\udcb0</p>\n</div>\n'})})})]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\xbfCu\xe1ndo usar ",(0,r.jsx)(n.code,{children:"<xsl:for-each>"}),"?"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Cuando se quiere aplicar ",(0,r.jsx)(n.strong,{children:"una misma estructura de salida a varios elementos"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Cuando se necesita ",(0,r.jsx)(n.strong,{children:"control total sobre el formato"})," dentro del bucle."]}),"\n",(0,r.jsxs)(n.li,{children:["Cuando se desea acceder al \xedndice de cada elemento con ",(0,r.jsx)(n.code,{children:"position()"}),"."]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"5---ordenar-resultados-xslsort",children:["5.   ",(0,r.jsxs)(n.strong,{children:["Ordenar resultados: ",(0,r.jsx)(n.code,{children:"<xsl:sort>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["La instrucci\xf3n ",(0,r.jsx)(n.code,{children:"<xsl:sort>"})," permite ",(0,r.jsx)(n.strong,{children:"ordenar los elementos que se est\xe1n recorriendo"})," en un ",(0,r.jsx)(n.code,{children:"<xsl:for-each>"})," o ",(0,r.jsx)(n.code,{children:"<xsl:apply-templates>"}),".",(0,r.jsx)(n.br,{}),"\n","El orden se basa en el valor de un nodo o atributo, y se puede personalizar con varios par\xe1metros (",(0,r.jsx)(n.code,{children:"order"}),", ",(0,r.jsx)(n.code,{children:"data-type"}),", etc.)."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:sort select="expresi\xf3n XPath" order="ascending|descending" data-type="text|number"/>\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"importante",type:"danger",children:(0,r.jsxs)(n.p,{children:["Siempre debe colocarse dentro de ",(0,r.jsx)(n.code,{children:"<xsl:for-each>"})," o ",(0,r.jsx)(n.code,{children:"<xsl:apply-templates>"}),", ",(0,r.jsx)(n.strong,{children:"justo al principio"}),", antes de generar el contenido."]})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-mostrar-los-productos-del-cat\xe1logo-ordenados-por-precio-descendente",children:"Ejemplo: mostrar los productos del cat\xe1logo ordenados por precio (descendente)"}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<catalogo>\n  <producto id="p01" unidades="25">\n    <nombre>Polvos de cuerno de unicornio</nombre>\n    <precio>25</precio>\n  </producto>\n  <producto id="p02" unidades="10">\n    <nombre>Ra\xedz de mandr\xe1gora</nombre>\n    <precio>30</precio>\n  </producto>\n  <producto id="p03" unidades="15">\n    <nombre>Escamas de drag\xf3n rojo</nombre>\n    <precio>50</precio>\n  </producto>\n</catalogo>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n  <xsl:output method="html" indent="yes"/>\n  <xsl:strip-space elements="*"/>\n\n  <xsl:template match="/">\n    <html>\n      <body>\n        <h1>\ud83e\uddea Cat\xe1logo (ordenado por precio descendente)</h1>\n        <xsl:for-each select="tienda/catalogo/producto">\n          <xsl:sort select="precio" data-type="number" order="descending"/>\n          <div class="producto">\n            <p><strong><xsl:value-of select="nombre"/></strong></p>\n            <p>Precio: <xsl:value-of select="precio"/> \ud83d\udcb0</p>\n          </div>\n        </xsl:for-each>\n      </body>\n    </html>\n  </xsl:template>\n\n</xsl:stylesheet>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>\ud83e\uddea Cat\xe1logo (ordenado por precio descendente)</h1>\n<div class="producto">\n  <p><strong>Escamas de drag\xf3n rojo</strong></p>\n  <p>Precio: 50 \ud83d\udcb0</p>\n</div>\n<div class="producto">\n  <p><strong>Ra\xedz de mandr\xe1gora</strong></p>\n  <p>Precio: 30 \ud83d\udcb0</p>\n</div>\n<div class="producto">\n  <p><strong>Polvos de cuerno de unicornio</strong></p>\n  <p>Precio: 25 \ud83d\udcb0</p>\n</div>\n'})})})]}),"\n",(0,r.jsxs)(n.h4,{id:"par\xe1metros-\xfatiles-de-xslsort",children:["Par\xe1metros \xfatiles de ",(0,r.jsx)(n.code,{children:"<xsl:sort>"})]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Atributo"}),(0,r.jsx)(n.th,{children:"Funci\xf3n"}),(0,r.jsx)(n.th,{children:"Ejemplo"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"select"})}),(0,r.jsx)(n.td,{children:"Nodo o atributo por el que ordenar"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'select="precio"'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"order"})}),(0,r.jsxs)(n.td,{children:["Direcci\xf3n de ordenaci\xf3n (",(0,r.jsx)(n.code,{children:"ascending"}),"/",(0,r.jsx)(n.code,{children:"descending"}),")"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'order="descending"'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"data-type"})}),(0,r.jsxs)(n.td,{children:["Tipo de datos: ",(0,r.jsx)(n.code,{children:"text"})," (por defecto) o ",(0,r.jsx)(n.code,{children:"number"})]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'data-type="number"'})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"6-condiciones-simples-xslif",children:["6. ",(0,r.jsxs)(n.strong,{children:["Condiciones simples: ",(0,r.jsx)(n.code,{children:"<xsl:if>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["La instrucci\xf3n ",(0,r.jsx)(n.code,{children:"<xsl:if>"})," permite ",(0,r.jsx)(n.strong,{children:"mostrar contenido solo cuando se cumple una condici\xf3n"}),".",(0,r.jsx)(n.br,{}),"\n","Es \xfatil para personalizar el resultado en funci\xf3n de los valores de un nodo o atributo del XML (por ejemplo, si un producto es destacado, si el stock es bajo, etc.)."]}),"\n",(0,r.jsxs)(n.p,{children:["La condici\xf3n se indica en el atributo ",(0,r.jsx)(n.code,{children:"test"}),", utilizando expresiones XPath que devuelven un valor booleano (",(0,r.jsx)(n.code,{children:"true"})," o ",(0,r.jsx)(n.code,{children:"false"}),")."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:if test="condici\xf3n XPath">\n  \x3c!-- contenido si se cumple la condici\xf3n --\x3e\n</xsl:if>\n\nEjecuta el bloque solo si la condici\xf3n es verdadera.\n'})}),"\n",(0,r.jsx)(n.h4,{id:"ejemplo-mostrar-un-mensaje-solo-si-el-producto-es-destacado",children:'Ejemplo: mostrar un mensaje solo si el producto es "destacado"'}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<producto id="p02" unidades="10" destacado="s\xed">\n  <nombre>Ra\xedz de mandr\xe1gora</nombre>\n  <precio>30</precio>\n</producto>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n  <xsl:output method="html" indent="yes"/>\n  <xsl:strip-space elements="*"/>\n\n  <xsl:template match="/">\n    <html>\n      <body>\n        <h1>\ud83e\uddea Cat\xe1logo</h1>\n        <xsl:for-each select="tienda/catalogo/producto">\n          <div class="producto">\n            <p><strong><xsl:value-of select="nombre"/></strong></p>\n            <p>Precio: <xsl:value-of select="precio"/> \ud83d\udcb0</p>\n\n            <xsl:if test="@destacado = \'s\xed\'">\n              <p>\u2728 <strong>\xa1Producto destacado!</strong></p>\n            </xsl:if>\n            \n          </div>\n        </xsl:for-each>\n      </body>\n    </html>\n  </xsl:template>\n\n</xsl:stylesheet>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>\ud83e\uddea Cat\xe1logo</h1>\n<div class="producto">\n  <p><strong>Ra\xedz de mandr\xe1gora</strong></p>\n  <p>Precio: 30 \ud83d\udcb0\u20ac</p>\n  <p>\u2728 <strong>\xa1Producto destacado!</strong></p>\n</div>\n'})})})]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\xbfQu\xe9 se puede comprobar con ",(0,r.jsx)(n.code,{children:"<xsl:if>"}),"?"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["El valor de un atributo: ",(0,r.jsx)(n.code,{children:"@destacado = 's\xed'"})]}),"\n",(0,r.jsxs)(n.li,{children:["Comparaciones num\xe9ricas: ",(0,r.jsx)(n.code,{children:"precio &gt; 50"})]}),"\n",(0,r.jsxs)(n.li,{children:["Existencia de un nodo: ",(0,r.jsx)(n.code,{children:"imagen"})]}),"\n",(0,r.jsxs)(n.li,{children:["Combinaciones: ",(0,r.jsx)(n.code,{children:"@unidades &lt;= 10 and @destacado = 's\xed'"})]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"7-condiciones-m\xfaltiples-xslchoose",children:["7. ",(0,r.jsxs)(n.strong,{children:["Condiciones m\xfaltiples: ",(0,r.jsx)(n.code,{children:"<xsl:choose>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Cuando se necesita ",(0,r.jsx)(n.strong,{children:"evaluar varias condiciones diferentes"}),' (como un "if... else if... else"), se utiliza la instrucci\xf3n ',(0,r.jsx)(n.code,{children:"<xsl:choose>"}),".",(0,r.jsx)(n.br,{}),"\n","Dentro de ella se escriben uno o varios bloques ",(0,r.jsx)(n.code,{children:"<xsl:when>"})," y, opcionalmente, un ",(0,r.jsx)(n.code,{children:"<xsl:otherwise>"})," para el caso por defecto."]}),"\n",(0,r.jsx)(n.p,{children:"Es muy \xfatil para mostrar distintos mensajes seg\xfan el valor de un nodo o atributo."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:choose>\n  <xsl:when test="condici\xf3n XPath">\n    \x3c!-- contenido si se cumple --\x3e\n  </xsl:when>\n  <xsl:otherwise>\n    \x3c!-- contenido si no se cumple ninguna condici\xf3n --\x3e\n  </xsl:otherwise>\n</xsl:choose>\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"ejemplo-mostrar-un-mensaje-seg\xfan-el-nivel-de-stock-unidades",children:["Ejemplo: mostrar un mensaje seg\xfan el nivel de stock (",(0,r.jsx)(n.code,{children:"@unidades"}),")"]}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<producto id="p04" unidades="5">\n  <nombre>Patas de culebra albina</nombre>\n  <precio>20</precio>\n</producto>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n  <xsl:output method="html" indent="yes"/>\n  <xsl:strip-space elements="*"/>\n\n  <xsl:template match="/">\n    <html>\n      <body>\n        <h1>\ud83e\uddea Cat\xe1logo</h1>\n        <xsl:for-each select="tienda/catalogo/producto">\n          <div class="producto">\n            <p><strong><xsl:value-of select="nombre"/></strong></p>\n            <p>Precio: <xsl:value-of select="precio"/> \ud83d\udcb0</p>\n\n            <xsl:choose>\n              <xsl:when test="@unidades &gt; 10">\n                <p class="stock alto">\u2705 Stock alto</p>\n              </xsl:when>\n              <xsl:when test="@unidades &gt; 5">\n                <p class="stock medio">\u26a0\ufe0f Stock medio</p>\n              </xsl:when>\n              <xsl:otherwise>\n                <p class="stock bajo">\ud83d\uded1 Quedan pocas unidades</p>\n              </xsl:otherwise>\n            </xsl:choose>\n\n          </div>\n        </xsl:for-each>\n      </body>\n    </html>\n  </xsl:template>\n\n</xsl:stylesheet>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<h1>\ud83e\uddea Cat\xe1logo</h1>\n<div class="producto">\n  <p><strong>Patas de culebra albina</strong></p>\n  <p>Precio: 20 \ud83d\udcb0</p>\n  <p class="stock bajo">\ud83d\uded1 Quedan pocas unidades</p>\n</div>\n'})})})]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\xbfCu\xe1ndo usar ",(0,r.jsx)(n.code,{children:"<xsl:choose>"}),"?"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Cuando hay ",(0,r.jsx)(n.strong,{children:"m\xe1s de dos posibles situaciones"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Cuando quieres mostrar un contenido distinto seg\xfan rangos, categor\xedas, etc."}),"\n",(0,r.jsxs)(n.li,{children:["Cuando ",(0,r.jsx)(n.code,{children:"<xsl:if>"})," se quedar\xeda corto o har\xeda el c\xf3digo m\xe1s dif\xedcil de leer."]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"8-declarar-variables-xslvariable",children:["8. ",(0,r.jsxs)(n.strong,{children:["Declarar variables: ",(0,r.jsx)(n.code,{children:"<xsl:variable>"})]})]}),"\n",(0,r.jsxs)(n.p,{children:["En XSLT se pueden ",(0,r.jsx)(n.strong,{children:"declarar variables"})," para ",(0,r.jsx)(n.strong,{children:"guardar valores temporalmente"})," y utilizarlos dentro de la misma plantilla o bloque de c\xf3digo.\nSon  \xfatiles para:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Guardar resultados de c\xe1lculos."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Guardar informaci\xf3n extra\xedda del XML."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Reutilizar un valor varias veces sin tener que repetir la expresi\xf3n."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"c\xf3mo-se-declara-una-variable",children:"\xbfC\xf3mo se declara una variable?"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:variable name="nombreVariable" select="expresi\xf3nXPath"/>\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"name"})," \u2192 es el nombre de la variable (sin el s\xedmbolo $ al declararla)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"select"})," \u2192 es la expresi\xf3n XPath cuyo valor se guardar\xe1."]}),"\n",(0,r.jsx)(n.h3,{id:"c\xf3mo-se-utiliza-una-variable",children:"\xbfC\xf3mo se utiliza una variable?"}),"\n",(0,r.jsxs)(n.p,{children:["Para utilizar una variable , se usa ",(0,r.jsx)(n.strong,{children:"$"})," delante del nombre:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:value-of select="$nombreVariable"/>\n'})}),"\n",(0,r.jsx)(n.admonition,{title:"importante",type:"danger",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Una variable en XSLT no se comparte entre plantillas"}),", solo se puede usar dentro de la misma plantilla (o bucle, o condici\xf3n) donde se ha definido."]})}),"\n",(0,r.jsx)(n.p,{children:"Una variable puede contener:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Texto fijo."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"El valor de un nodo."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"El resultado de un c\xe1lculo (por ejemplo, precio \xd7 cantidad)."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"La concatenaci\xf3n de varios textos."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{title:"variables en xslt",type:"danger",children:[(0,r.jsxs)(n.p,{children:["Una vez que se crea una variable con ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"<xsl:variable>"})}),", no se puede modificar su valor m\xe1s adelante. Es decir, ",(0,r.jsx)(n.strong,{children:"se comporta m\xe1s como una constante"})," que como una variable tradicional en otros lenguajes de programaci\xf3n."]}),(0,r.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,r.jsx)(n.strong,{children:"No puedes hacer"})," algo como:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:variable name="precio" select="25"/>\n\x3c!-- \u274c No v\xe1lido: redeclarar o cambiar valor --\x3e\n<xsl:variable name="precio" select="$precio + 10"/>\n'})})]}),"\n",(0,r.jsxs)(n.h4,{id:"ejemplo-calcular-el-total-de-un-producto-precio--cantidad-en-un-pedido",children:["Ejemplo: calcular el total de un producto (",(0,r.jsx)(n.code,{children:"precio \xd7 cantidad"}),") en un pedido"]}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(d.A,{value:"xml",label:"XML entrada",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<pedido id="ped01" cliente="c02" fecha="2025-04-01">\n  <linea producto="p01" cantidad="2"/>\n</pedido>\n<catalogo>\n  <producto id="p01">\n    <nombre>Polvos de cuerno de unicornio</nombre>\n    <precio>25</precio>\n  </producto>\n</catalogo>\n'})})}),(0,r.jsx)(d.A,{value:"xslt",label:"XSLT",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:template match="/">\n  <html>\n    <body>\n      <h1>\ud83d\uded2 Pedido</h1>\n      <xsl:for-each select="tienda/pedidos/pedido">\n        <h2><xsl:value-of select="@id"/></h2>\n        <table>\n          <tr>\n            <th>Producto</th>\n            <th>Cantidad</th>\n            <th>Total</th>\n          </tr>\n          <xsl:for-each select="linea">\n            \x3c!-- Variables --\x3e\n            <xsl:variable name="id" select="@producto"/>\n            <xsl:variable name="producto" select="/tienda/catalogo/producto[@id=$id]"/>\n            <xsl:variable name="precio" select="number($producto/precio)"/>\n            <xsl:variable name="cantidad" select="number(@cantidad)"/>\n            <xsl:variable name="total" select="$precio * $cantidad"/>\n\n            <tr>\n              <td><xsl:value-of select="$producto/nombre"/></td>\n              <td><xsl:value-of select="$cantidad"/></td>\n              <td><xsl:value-of select="format-number($total, \'#.00\')"/> \ud83d\udcb0</td>\n            </tr>\n          </xsl:for-each>\n        </table>\n      </xsl:for-each>\n    </body>\n  </html>\n</xsl:template>\n'})})}),(0,r.jsx)(d.A,{value:"html",label:"HTML salida",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<h1>\ud83d\uded2 Pedido</h1>\n<h2>ped01</h2>\n<table>\n  <tr>\n    <th>Producto</th>\n    <th>Cantidad</th>\n    <th>Total</th>\n  </tr>\n  <tr>\n    <td>Polvos de cuerno de unicornio</td>\n    <td>2</td>\n    <td>50.00 \ud83d\udcb0</td>\n  </tr>\n</table>\n"})})})]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.mdxAdmonitionTitle,{children:["\xbfPara qu\xe9 usar ",(0,r.jsx)(n.code,{children:"<xsl:variable>"}),"?"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Para ",(0,r.jsx)(n.strong,{children:"guardar el resultado de una b\xfasqueda"})," (",(0,r.jsx)(n.code,{children:"producto[@id=$id]"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["Para ",(0,r.jsx)(n.strong,{children:"realizar c\xe1lculos"})," (como multiplicar precio \xd7 cantidad)."]}),"\n",(0,r.jsxs)(n.li,{children:["Para ",(0,r.jsx)(n.strong,{children:"evitar repetir c\xf3digo"})," si un mismo valor se usa varias veces."]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"9-errores-comunes-en-xslt-y-c\xf3mo-evitarlos",children:["9. ",(0,r.jsx)(n.strong,{children:"Errores comunes en XSLT y c\xf3mo evitarlos"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Olvidar vincular el XML con la hoja de estilo"})}),"\n",(0,r.jsx)(n.p,{children:"Aseg\xfarate de incluir esta l\xednea en tu XML:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml-stylesheet type="text/xsl" href="archivo.xsl"?>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Olvidar declarar el espacio de nombres en la etiqueta ra\xedz del XSL"})}),"\n",(0,r.jsx)(n.p,{children:"Las hojas de estilo XSLT deben comenzar as\xed:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet version="1.0"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["No comenzar con una plantilla ",(0,r.jsx)(n.code,{children:'match="/"'})]})}),"\n",(0,r.jsx)(n.p,{children:"Es imprescindible tener una plantilla que indique al procesador d\xf3nde empezar:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:template match="/"> ... </xsl:template>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"No recorrer los nodos hijos"})}),"\n",(0,r.jsxs)(n.p,{children:["Si no usas ",(0,r.jsx)(n.code,{children:"<xsl:for-each>"})," o ",(0,r.jsx)(n.code,{children:"<xsl:apply-templates>"}),", solo se procesar\xe1 el nodo actual."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Olvidar usar comillas en los atributos de las etiquetas"})}),"\n",(0,r.jsx)(n.p,{children:"Todos los atributos deben ir entre comillas:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:value-of select="nombre"/>  \u2705\n<xsl:value-of select=nombre/>   \u274c\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Mal uso de rutas XPath"})}),"\n",(0,r.jsxs)(n.p,{children:["Es com\xfan escribir ",(0,r.jsx)(n.code,{children:"producto/nombre"})," cuando ya est\xe1s dentro de ",(0,r.jsx)(n.code,{children:"producto"}),", y deber\xedas usar solo ",(0,r.jsx)(n.code,{children:"nombre"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Errores en condiciones (",(0,r.jsx)(n.code,{children:"<xsl:if>"})," o ",(0,r.jsx)(n.code,{children:"<xsl:choose>"}),")"]})}),"\n",(0,r.jsxs)(n.p,{children:["Por ejemplo, comparar atributos sin el ",(0,r.jsx)(n.code,{children:"@"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"@precio &gt; 50  \u2705\nprecio &gt; 50   \u274c\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"No cerrar etiquetas correctamente"})}),"\n",(0,r.jsxs)(n.p,{children:["Especialmente en HTML generado. Un error com\xfan es olvidarse de cerrar ",(0,r.jsx)(n.code,{children:"img"}),", ",(0,r.jsx)(n.code,{children:"meta"}),", etc."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Usar ",(0,r.jsx)(n.code,{children:"<xsl:value-of>"})," para mostrar varios nodos"]})}),"\n",(0,r.jsxs)(n.p,{children:["Solo muestra el ",(0,r.jsx)(n.strong,{children:"primer nodo"}),". Si quieres mostrar varios, usa un bucle:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<xsl:for-each select="producto">\n  <xsl:value-of select="nombre"/>\n</xsl:for-each>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Errores con varaibles"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'No poner $ al usar la variable (select="$precio" \u2714\ufe0f).'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Intentar cambiar el valor de una variable ya creada (no es posible)."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Declarar la variable despu\xe9s de intentar usarla."}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9365:(e,n,s)=>{s.d(n,{A:()=>a});s(6540);var l=s(4164);const r={tabItem:"tabItem_Ymn6"};var o=s(4848);function a({children:e,hidden:n,className:s}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,l.A)(r.tabItem,s),hidden:n,children:e})}},1470:(e,n,s)=>{s.d(n,{A:()=>P});var l=s(6540),r=s(4164),o=s(3104),a=s(6347),d=s(205),c=s(7485),i=s(1682),t=s(679);function x(e){return l.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,l.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:s}=e;return(0,l.useMemo)((()=>{const e=n??function(e){return x(e).map((({props:{value:e,label:n,attributes:s,default:l}})=>({value:e,label:n,attributes:s,default:l})))}(s);return function(e){const n=(0,i.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function u({value:e,tabValues:n}){return n.some((n=>n.value===e))}function p({queryString:e=!1,groupId:n}){const s=(0,a.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(r),(0,l.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,o=h(e),[a,c]=(0,l.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:o}))),[i,x]=p({queryString:s,groupId:r}),[m,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,r]=(0,t.Dv)(n);return[s,(0,l.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:r}),g=(()=>{const e=i??m;return u({value:e,tabValues:o})?e:null})();(0,d.A)((()=>{g&&c(g)}),[g]);return{selectedValue:a,selectValue:(0,l.useCallback)((e=>{if(!u({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);c(e),x(e),j(e)}),[x,j,o]),tabValues:o}}var j=s(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=s(4848);function v({className:e,block:n,selectedValue:s,selectValue:l,tabValues:a}){const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),i=e=>{const n=e.currentTarget,r=d.indexOf(n),o=a[r].value;o!==s&&(c(n),l(o))},t=e=>{let n=null;switch(e.key){case"Enter":i(e);break;case"ArrowRight":{const s=d.indexOf(e.currentTarget)+1;n=d[s]??d[0];break}case"ArrowLeft":{const s=d.indexOf(e.currentTarget)-1;n=d[s]??d[d.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:a.map((({value:e,label:n,attributes:l})=>(0,b.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{d.push(e)},onKeyDown:t,onClick:i,...l,className:(0,r.A)("tabs__item",g.tabItem,l?.className,{"tabs__item--active":s===e}),children:n??e},e)))})}function f({lazy:e,children:n,selectedValue:s}){const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=o.find((e=>e.props.value===s));return e?(0,l.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=m(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,b.jsx)(v,{...n,...e}),(0,b.jsx)(f,{...n,...e})]})}function P(e){const n=(0,j.A)();return(0,b.jsx)(y,{...e,children:x(e.children)},String(n))}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var l=s(6540);const r={},o=l.createContext(r);function a(e){const n=l.useContext(o);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);