"use strict";(self.webpackChunkp_my_dm=self.webpackChunkp_my_dm||[]).push([[3082],{3554:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"lenguajes-de-marcas/3 Java Script/3.8 Formularios","title":"3.8 Formularios","description":"Los formularios son una parte esencial de cualquier aplicaci\xf3n web, porque conectan la interfaz con los datos del usuario. En frontend, casi todo lo relacionado con formularios se resume en 4 ideas:","source":"@site/docs/lenguajes-de-marcas/3 Java Script/3.8 Formularios.md","sourceDirName":"lenguajes-de-marcas/3 Java Script","slug":"/lenguajes-de-marcas/3 Java Script/3.8 Formularios","permalink":"/docs/lenguajes-de-marcas/3 Java Script/3.8 Formularios","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"llmmSidebar","previous":{"title":"3.7.6 Navegaci\xf3n por el DOM","permalink":"/docs/lenguajes-de-marcas/3 Java Script/3.7 DOM/3.7.6 Navegaci\xf3n por el DOM"},"next":{"title":"3.9 Almacenamiento en el navegador","permalink":"/docs/lenguajes-de-marcas/3 Java Script/3.9 Almacenamiento"}}');var a=r(4848),s=r(8453);const i={sidebar_position:8},l="3.8 Formularios",c={},t=[{value:"1\ufe0f\u20e3 <strong>Estructura b\xe1sica de un formulario</strong>",id:"1\ufe0f\u20e3-estructura-b\xe1sica-de-un-formulario",level:2},{value:"2\ufe0f\u20e3 <strong>Acceso a formularios y campos</strong>",id:"2\ufe0f\u20e3-acceso-a-formularios-y-campos",level:2},{value:"\ud83d\udfe9 Selecci\xf3n directa con <code>querySelector</code> y <code>getElementById</code>",id:"-selecci\xf3n-directa-con-queryselector-y-getelementbyid",level:3},{value:"\ud83d\udfe8 Acceso con <code>document.forms</code>",id:"-acceso-con-documentforms",level:3},{value:"\ud83d\udfe7 Acceso con <code>form.elements</code>",id:"-acceso-con-formelements",level:3},{value:"3\ufe0f\u20e3 <strong>Leer y escribir valores en los campos</strong>",id:"3\ufe0f\u20e3-leer-y-escribir-valores-en-los-campos",level:2},{value:"\ud83d\udfe9 <code>value</code> (inputs, textarea, select)",id:"-value-inputs-textarea-select",level:3},{value:"\ud83d\udfe8 <code>checked</code> (checkbox y radio)",id:"-checked-checkbox-y-radio",level:3},{value:"\ud83d\udfe6 Leer archivos (file input)",id:"-leer-archivos-file-input",level:3},{value:"4\ufe0f\u20e3 <strong>Eventos en formularios</strong>",id:"4\ufe0f\u20e3-eventos-en-formularios",level:2},{value:"\ud83d\udfe9 Evento <code>submit</code>",id:"-evento-submit",level:3},{value:"\ud83d\udfe8 Evento <code>input</code>",id:"-evento-input",level:3},{value:"\ud83d\udfe7 Evento <code>change</code>",id:"-evento-change",level:3},{value:"\ud83d\udfe5 Ejemplo completo combinando eventos",id:"-ejemplo-completo-combinando-eventos",level:3},{value:"5\ufe0f\u20e3 <strong>Validaci\xf3n de formularios</strong>",id:"5\ufe0f\u20e3-validaci\xf3n-de-formularios",level:2},{value:"\ud83d\udfe9 Validaci\xf3n nativa con <code>checkValidity()</code> y <code>reportValidity()</code>",id:"-validaci\xf3n-nativa-con-checkvalidity-y-reportvalidity",level:3},{value:"\ud83d\udfe8 Mensajes personalizados con <code>setCustomValidity()</code>",id:"-mensajes-personalizados-con-setcustomvalidity",level:3},{value:"\ud83d\udfe7 Estados de validaci\xf3n: <code>validity</code> y <code>validationMessage</code>",id:"-estados-de-validaci\xf3n-validity-y-validationmessage",level:3},{value:"\ud83d\udfe5 Validaci\xf3n manual sencilla (reglas propias)",id:"-validaci\xf3n-manual-sencilla-reglas-propias",level:3},{value:"6\ufe0f\u20e3 <strong>Recoger datos del formulario</strong>",id:"6\ufe0f\u20e3-recoger-datos-del-formulario",level:2},{value:"\ud83d\udfe9 Recoger valores \u201ca mano\u201d",id:"-recoger-valores-a-mano",level:3},{value:"\ud83d\udfe8 <code>FormData</code> (muy \xfatil para formularios grandes y archivos)",id:"-formdata-muy-\xfatil-para-formularios-grandes-y-archivos",level:3},{value:"7\ufe0f\u20e3 <strong>Enviar datos desde frontend</strong>",id:"7\ufe0f\u20e3-enviar-datos-desde-frontend",level:2},{value:"\ud83d\udfe9 Env\xedo como JSON (cuando no hay archivos)",id:"-env\xedo-como-json-cuando-no-hay-archivos",level:3},{value:"\ud83d\udfe8 Env\xedo como FormData (cuando hay archivos)",id:"-env\xedo-como-formdata-cuando-hay-archivos",level:3},{value:"\u2705 <strong>Buenas pr\xe1cticas con formularios</strong>",id:"-buenas-pr\xe1cticas-con-formularios",level:2}];function d(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"38-formularios",children:"3.8 Formularios"})}),"\n",(0,a.jsxs)(n.p,{children:["Los ",(0,a.jsx)(n.strong,{children:"formularios"})," son una parte esencial de cualquier aplicaci\xf3n web, porque conectan la interfaz con los datos del usuario. En frontend, casi todo lo relacionado con formularios se resume en 4 ideas:"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Acceder"})," al formulario y a sus campos"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Leer y escribir"})," valores (texto, checkbox, select, etc.)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Escuchar eventos"})," (",(0,a.jsx)(n.code,{children:"submit"}),", ",(0,a.jsx)(n.code,{children:"input"}),", ",(0,a.jsx)(n.code,{children:"change"}),") para reaccionar a lo que hace el usuario"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validar"})," antes de enviar, usando validaci\xf3n nativa y, si hace falta, l\xf3gica propia"]}),"\n"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Aunque se validen datos en el navegador, ",(0,a.jsx)(n.strong,{children:"nunca se debe confiar en la validaci\xf3n del cliente"})," si esos datos van a un servidor. En este tema se trabaja solo la parte web."]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"1\ufe0f\u20e3-estructura-b\xe1sica-de-un-formulario",children:["1\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Estructura b\xe1sica de un formulario"})]}),"\n",(0,a.jsxs)(n.p,{children:["Un formulario en HTML se define con ",(0,a.jsx)(n.code,{children:"<form>"})," y suele incluir inputs y un bot\xf3n de env\xedo. Lo m\xe1s importante para trabajar bien con JS es:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"id"})," para seleccionar el formulario f\xe1cilmente"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"name"})," en los campos, porque es clave para ",(0,a.jsx)(n.code,{children:"form.elements"}),", ",(0,a.jsx)(n.code,{children:"FormData"})," y env\xedos"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"label"})," asociado con ",(0,a.jsx)(n.code,{children:"for"})," para accesibilidad y clic c\xf3modo"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="Formulario b\xe1sico (HTML)"',children:'<form id="formulario-registro">\r\n  <label for="usuario">Usuario</label>\r\n  <input id="usuario" name="usuario" type="text" required />\r\n\r\n  <label for="correo">Correo</label>\r\n  <input id="correo" name="correo" type="email" required />\r\n\r\n  <button type="submit">Enviar</button>\r\n</form>\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Recomendaci\xf3n",type:"tip",children:(0,a.jsxs)(n.p,{children:["En proyectos reales conviene evitar ",(0,a.jsx)(n.code,{children:"\xf1"})," en ",(0,a.jsx)(n.code,{children:"name"})," y en ",(0,a.jsx)(n.code,{children:"id"}),"\r\nPor ejemplo, ",(0,a.jsx)(n.code,{children:"contrasena"})," en lugar de ",(0,a.jsx)(n.code,{children:"contrase\xf1a"})]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"2\ufe0f\u20e3-acceso-a-formularios-y-campos",children:["2\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Acceso a formularios y campos"})]}),"\n",(0,a.jsx)(n.p,{children:"Hay dos enfoques habituales para acceder a formularios y sus elementos:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Selecci\xf3n directa"})," con ",(0,a.jsx)(n.code,{children:"querySelector"})," (muy com\xfan hoy)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Colecciones del DOM"})," con ",(0,a.jsx)(n.code,{children:"document.forms"})," y ",(0,a.jsx)(n.code,{children:"form.elements"})," (muy \xfatil y muy visto en manuales)"]}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"-selecci\xf3n-directa-con-queryselector-y-getelementbyid",children:["\ud83d\udfe9 Selecci\xf3n directa con ",(0,a.jsx)(n.code,{children:"querySelector"})," y ",(0,a.jsx)(n.code,{children:"getElementById"})]}),"\n",(0,a.jsx)(n.p,{children:"Es el enfoque m\xe1s directo: seleccionas el formulario y luego los campos que te interesan."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Selecci\xf3n directa"',children:'const formulario = document.querySelector("#formulario-registro")\r\nconst inputUsuario = document.querySelector("#usuario")\r\nconst inputCorreo = document.querySelector("#correo")\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Idea clave",type:"info",children:(0,a.jsxs)(n.p,{children:["Este enfoque es perfecto cuando tienes pocos campos o IDs claros\r\nSi el formulario crece, suele ser m\xe1s ordenado trabajar con ",(0,a.jsx)(n.code,{children:"form.elements"})]})}),"\n",(0,a.jsxs)(n.h3,{id:"-acceso-con-documentforms",children:["\ud83d\udfe8 Acceso con ",(0,a.jsx)(n.code,{children:"document.forms"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"document.forms"})," devuelve una colecci\xf3n con ",(0,a.jsx)(n.strong,{children:"todos los formularios"})," del documento. Se puede acceder por:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\xedndice ",(0,a.jsx)(n.code,{children:"document.forms[0]"})]}),"\n",(0,a.jsxs)(n.li,{children:["nombre ",(0,a.jsx)(n.code,{children:'document.forms["miFormulario"]'})," si el formulario tiene ",(0,a.jsx)(n.code,{children:"name"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="Acceso con document.forms"',children:'<form id="formulario1" name="miFormulario">\r\n  <input type="text" name="usuario" placeholder="Usuario" />\r\n  <input type="password" name="contrasena" placeholder="Contrase\xf1a" />\r\n</form>\r\n\r\n<script>\r\n  const formulario = document.forms["miFormulario"]\r\n  console.log(formulario.id) // "formulario1"\r\n<\/script>\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"-acceso-con-formelements",children:["\ud83d\udfe7 Acceso con ",(0,a.jsx)(n.code,{children:"form.elements"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"form.elements"})," devuelve una colecci\xf3n con ",(0,a.jsx)(n.strong,{children:"todos los campos del formulario"})," (inputs, selects, botones). Lo m\xe1s t\xedpico es acceder por ",(0,a.jsx)(n.code,{children:"name"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="Acceso con form.elements"',children:'<form id="formulario">\r\n  <input type="text" name="usuario" placeholder="Usuario" />\r\n  <input type="password" name="contrasena" placeholder="Contrase\xf1a" />\r\n</form>\r\n\r\n<script>\r\n  const formulario = document.getElementById("formulario")\r\n\r\n  const usuario = formulario.elements["usuario"]\r\n  const contrasena = formulario.elements["contrasena"]\r\n\r\n  console.log(usuario.placeholder)   // "Usuario"\r\n  console.log(contrasena.type)       // "password"\r\n<\/script>\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Regla r\xe1pida",type:"tip",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Si ya tienes el formulario, ",(0,a.jsx)(n.code,{children:'form.elements["..."]'})," es muy c\xf3modo"]}),"\n",(0,a.jsxs)(n.li,{children:["Para que funcione bien, pon siempre ",(0,a.jsx)(n.code,{children:"name"})," en los campos"]}),"\n"]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"3\ufe0f\u20e3-leer-y-escribir-valores-en-los-campos",children:["3\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Leer y escribir valores en los campos"})]}),"\n",(0,a.jsx)(n.p,{children:"En frontend, la mayor parte del trabajo con formularios es leer valores, validarlos y (a veces) escribirlos."}),"\n",(0,a.jsxs)(n.h3,{id:"-value-inputs-textarea-select",children:["\ud83d\udfe9 ",(0,a.jsx)(n.code,{children:"value"})," (inputs, textarea, select)"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"value"})," se usa en la mayor\xeda de campos: texto, email, password, textarea, select."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Leer y escribir value"',children:'const usuario = formulario.elements["usuario"]\r\n\r\nconsole.log(usuario.value)   // lo que haya escrito el usuario\r\nusuario.value = "NuevoUsuario" // cambia el valor desde JS\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Caso t\xedpico",type:"info",children:(0,a.jsx)(n.p,{children:"Se usa para rellenar un formulario al editar datos, o para limpiar campos tras enviar"})}),"\n",(0,a.jsxs)(n.h3,{id:"-checked-checkbox-y-radio",children:["\ud83d\udfe8 ",(0,a.jsx)(n.code,{children:"checked"})," (checkbox y radio)"]}),"\n",(0,a.jsxs)(n.p,{children:["Los checkbox y radio se controlan con ",(0,a.jsx)(n.code,{children:"checked"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="Checkbox y radio"',children:'<input type="checkbox" id="aceptar" name="aceptar" />\r\n<label for="aceptar">Acepto los t\xe9rminos</label>\r\n\r\n<input type="radio" name="rol" value="user" checked /> Usuario\r\n<input type="radio" name="rol" value="admin" /> Admin\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="checked"',children:'const aceptar = formulario.elements["aceptar"]\r\n\r\nconsole.log(aceptar.checked) // true o false\r\naceptar.checked = true       // marcar desde JS\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Ojo con radio",type:"warning",children:(0,a.jsxs)(n.p,{children:["Con radios, ",(0,a.jsx)(n.code,{children:'form.elements["rol"]'})," puede devolverte una colecci\xf3n\r\nLo m\xe1s pr\xe1ctico es leer el seleccionado con un selector"]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Leer el radio seleccionado"',children:"const rol = formulario.querySelector('input[name=\"rol\"]:checked')\r\nconsole.log(rol ? rol.value : null)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"-leer-archivos-file-input",children:"\ud83d\udfe6 Leer archivos (file input)"}),"\n",(0,a.jsxs)(n.p,{children:["Cuando un input es ",(0,a.jsx)(n.code,{children:'type="file"'}),", el valor real se obtiene desde ",(0,a.jsx)(n.code,{children:"files"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="File input"',children:'<input type="file" id="foto" name="foto" accept="image/*" />\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Leer archivo seleccionado"',children:'const foto = formulario.elements["foto"]\r\n\r\nif (foto.files.length > 0) {\r\n  const archivo = foto.files[0]\r\n  console.log(archivo.name)\r\n  console.log(archivo.type)\r\n  console.log(archivo.size)\r\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"4\ufe0f\u20e3-eventos-en-formularios",children:["4\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Eventos en formularios"})]}),"\n",(0,a.jsx)(n.p,{children:"Los formularios generan eventos muy \xfatiles. Los m\xe1s comunes son:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"submit"})}),": al enviar el formulario"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"input"})}),": cada vez que el usuario modifica el valor"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"change"})}),": cuando cambia y pierde foco (o confirma un cambio)"]}),"\n"]}),"\n",(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)("img",{src:"/img/llmm/UT3/eventos_formulario.png",alt:"Tipos de eventos de formulario",title:"Tipos de eventos de formulario"})}),"\n",(0,a.jsxs)(n.h3,{id:"-evento-submit",children:["\ud83d\udfe9 Evento ",(0,a.jsx)(n.code,{children:"submit"})]}),"\n",(0,a.jsxs)(n.p,{children:["Se dispara cuando se intenta ",(0,a.jsx)(n.strong,{children:"enviar el formulario"}),". Normalmente se usa para:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["interceptar el env\xedo con ",(0,a.jsx)(n.code,{children:"preventDefault()"})]}),"\n",(0,a.jsx)(n.li,{children:"validar"}),"\n",(0,a.jsxs)(n.li,{children:["construir datos (JSON o ",(0,a.jsx)(n.code,{children:"FormData"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:["enviar con ",(0,a.jsx)(n.code,{children:"fetch"})," (si aplica)"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="submit b\xe1sico"',children:'formulario.addEventListener("submit", (evento) => {\r\n  evento.preventDefault()\r\n  console.log("Formulario enviado")\r\n})\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"-evento-input",children:["\ud83d\udfe8 Evento ",(0,a.jsx)(n.code,{children:"input"})]}),"\n",(0,a.jsxs)(n.p,{children:["Se dispara ",(0,a.jsx)(n.strong,{children:"en cada cambio inmediato"}),". Es ideal para:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"validaci\xf3n en vivo"}),"\n",(0,a.jsx)(n.li,{children:"contadores de caracteres"}),"\n",(0,a.jsx)(n.li,{children:"previsualizaciones"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="input"',children:'const usuario = formulario.elements["usuario"]\r\n\r\nusuario.addEventListener("input", () => {\r\n  console.log("Escribiendo:", usuario.value)\r\n})\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"-evento-change",children:["\ud83d\udfe7 Evento ",(0,a.jsx)(n.code,{children:"change"})]}),"\n",(0,a.jsxs)(n.p,{children:["Se dispara cuando ",(0,a.jsx)(n.strong,{children:"el valor cambia y se confirma el cambio"})," (normalmente al perder foco)."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="change"',children:'const aceptar = formulario.elements["aceptar"]\r\n\r\naceptar.addEventListener("change", (evento) => {\r\n  console.log(`Checkbox: ${evento.target.checked ? "Marcado" : "Desmarcado"}`)\r\n})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"-ejemplo-completo-combinando-eventos",children:"\ud83d\udfe5 Ejemplo completo combinando eventos"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="Formulario completo"',children:'<form id="formulario">\r\n  <input type="text" name="usuario" placeholder="Usuario" required />\r\n  <input type="password" name="contrasena" placeholder="Contrase\xf1a" required />\r\n\r\n  <input type="checkbox" name="aceptar" id="aceptar" />\r\n  <label for="aceptar">Acepto los t\xe9rminos</label>\r\n\r\n  <button type="submit">Enviar</button>\r\n</form>\r\n\r\n<script>\r\n  const formulario = document.getElementById("formulario")\r\n\r\n  formulario.addEventListener("submit", (evento) => {\r\n    evento.preventDefault()\r\n\r\n    const usuario = formulario.elements["usuario"]\r\n    const contrasena = formulario.elements["contrasena"]\r\n    const aceptar = formulario.elements["aceptar"]\r\n\r\n    if (!usuario.value || !contrasena.value || !aceptar.checked) {\r\n      alert("Por favor, completa todos los campos y acepta los t\xe9rminos.")\r\n      return\r\n    }\r\n\r\n    console.log("Formulario v\xe1lido. Enviando...")\r\n  })\r\n\r\n  formulario.elements["usuario"].addEventListener("input", () => {\r\n    console.log("El usuario est\xe1 escribiendo...")\r\n  })\r\n\r\n  formulario.elements["aceptar"].addEventListener("change", (evento) => {\r\n    console.log(`Checkbox: ${evento.target.checked ? "Marcado" : "Desmarcado"}`)\r\n  })\r\n<\/script>\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"5\ufe0f\u20e3-validaci\xf3n-de-formularios",children:["5\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Validaci\xf3n de formularios"})]}),"\n",(0,a.jsx)(n.p,{children:"La validaci\xf3n puede hacerse de dos formas que suelen combinarse:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validaci\xf3n nativa HTML"}),": ",(0,a.jsx)(n.code,{children:"required"}),", ",(0,a.jsx)(n.code,{children:"minlength"}),", ",(0,a.jsx)(n.code,{children:'type="email"'}),", ",(0,a.jsx)(n.code,{children:"pattern"}),", etc."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Validaci\xf3n en JS"}),": reglas propias y mensajes personalizados"]}),"\n"]}),"\n",(0,a.jsxs)(n.h3,{id:"-validaci\xf3n-nativa-con-checkvalidity-y-reportvalidity",children:["\ud83d\udfe9 Validaci\xf3n nativa con ",(0,a.jsx)(n.code,{children:"checkValidity()"})," y ",(0,a.jsx)(n.code,{children:"reportValidity()"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"checkValidity()"})," devuelve ",(0,a.jsx)(n.code,{children:"true"})," o ",(0,a.jsx)(n.code,{children:"false"})," seg\xfan las restricciones HTML.\r\n",(0,a.jsx)(n.code,{children:"reportValidity()"})," adem\xe1s ",(0,a.jsx)(n.strong,{children:"muestra el mensaje del navegador"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="checkValidity y reportValidity"',children:'const correo = formulario.elements["correo"]\r\n\r\nif (!correo.checkValidity()) {\r\n  correo.reportValidity()\r\n}\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"-mensajes-personalizados-con-setcustomvalidity",children:["\ud83d\udfe8 Mensajes personalizados con ",(0,a.jsx)(n.code,{children:"setCustomValidity()"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"setCustomValidity()"})," permite definir un mensaje de error propio."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"si le pasas un texto, el campo pasa a ser inv\xe1lido"}),"\n",(0,a.jsxs)(n.li,{children:["si le pasas ",(0,a.jsx)(n.code,{children:'""'}),", limpias el error y vuelve a validar normalmente"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",metastring:'title="Validaci\xf3n personalizada (email)"',children:'<form id="formulario">\r\n  <input type="email" name="correo" placeholder="Correo electr\xf3nico" required />\r\n  <button type="submit">Enviar</button>\r\n</form>\r\n\r\n<script>\r\n  const formulario = document.getElementById("formulario")\r\n\r\n  formulario.addEventListener("submit", (evento) => {\r\n    evento.preventDefault()\r\n\r\n    const correo = formulario.elements["correo"]\r\n\r\n    // Limpia mensajes anteriores\r\n    correo.setCustomValidity("")\r\n\r\n    if (!correo.checkValidity()) {\r\n      correo.setCustomValidity("Por favor, introduce un correo v\xe1lido.")\r\n      correo.reportValidity()\r\n      return\r\n    }\r\n\r\n    console.log("Formulario v\xe1lido. Enviando...")\r\n  })\r\n<\/script>\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Importante",type:"warning",children:(0,a.jsxs)(n.p,{children:["Si usas ",(0,a.jsx)(n.code,{children:"setCustomValidity"}),", acu\xe9rdate de limpiar con ",(0,a.jsx)(n.code,{children:'setCustomValidity("")'}),"\r\nSi no, el campo puede quedarse \u201catascado\u201d como inv\xe1lido"]})}),"\n",(0,a.jsxs)(n.h3,{id:"-estados-de-validaci\xf3n-validity-y-validationmessage",children:["\ud83d\udfe7 Estados de validaci\xf3n: ",(0,a.jsx)(n.code,{children:"validity"})," y ",(0,a.jsx)(n.code,{children:"validationMessage"})]}),"\n",(0,a.jsx)(n.p,{children:"Cuando algo falla, puedes inspeccionar exactamente por qu\xe9."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="validity y validationMessage"',children:'const correo = formulario.elements["correo"]\r\n\r\nconsole.log(correo.validity)           // objeto con estados\r\nconsole.log(correo.validationMessage)  // mensaje actual del navegador\n'})}),"\n",(0,a.jsx)(n.h3,{id:"-validaci\xf3n-manual-sencilla-reglas-propias",children:"\ud83d\udfe5 Validaci\xf3n manual sencilla (reglas propias)"}),"\n",(0,a.jsx)(n.p,{children:"Aunque exista validaci\xf3n nativa, a veces quieres reglas tuyas."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Validaci\xf3n manual simple"',children:'function validarUsuario(valor) {\r\n  return valor.trim().length >= 3\r\n}\r\n\r\nformulario.addEventListener("submit", (evento) => {\r\n  evento.preventDefault()\r\n\r\n  const usuario = formulario.elements["usuario"]\r\n\r\n  if (!validarUsuario(usuario.value)) {\r\n    alert("El usuario debe tener al menos 3 caracteres")\r\n    return\r\n  }\r\n\r\n  console.log("OK")\r\n})\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"6\ufe0f\u20e3-recoger-datos-del-formulario",children:["6\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Recoger datos del formulario"})]}),"\n",(0,a.jsx)(n.h3,{id:"-recoger-valores-a-mano",children:"\ud83d\udfe9 Recoger valores \u201ca mano\u201d"}),"\n",(0,a.jsx)(n.p,{children:"Es directo y claro cuando son pocos campos."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Recoger datos manualmente"',children:'const datos = {\r\n  usuario: formulario.elements["usuario"].value,\r\n  correo: formulario.elements["correo"].value,\r\n  aceptar: formulario.elements["aceptar"].checked\r\n}\r\n\r\nconsole.log(datos)\n'})}),"\n",(0,a.jsxs)(n.h3,{id:"-formdata-muy-\xfatil-para-formularios-grandes-y-archivos",children:["\ud83d\udfe8 ",(0,a.jsx)(n.code,{children:"FormData"})," (muy \xfatil para formularios grandes y archivos)"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"FormData"})," lee autom\xe1ticamente los campos con ",(0,a.jsx)(n.code,{children:"name"})," y permite incluir archivos."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="FormData b\xe1sico"',children:'formulario.addEventListener("submit", (evento) => {\r\n  evento.preventDefault()\r\n\r\n  const formData = new FormData(formulario)\r\n\r\n  console.log(formData.get("usuario"))\r\n  console.log(formData.get("correo"))\r\n})\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"FormData y archivos",type:"tip",children:(0,a.jsxs)(n.p,{children:["Si hay un ",(0,a.jsx)(n.code,{children:'<input type="file" name="foto">'}),", ",(0,a.jsx)(n.code,{children:'formData.get("foto")'})," devuelve el archivo"]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"7\ufe0f\u20e3-enviar-datos-desde-frontend",children:["7\ufe0f\u20e3 ",(0,a.jsx)(n.strong,{children:"Enviar datos desde frontend"})]}),"\n",(0,a.jsxs)(n.p,{children:["Aunque no es objeto de evaluaci\xf3n ya que pertenece a la programaci\xf3n de BackEnd, es \xfatil ver el patr\xf3n t\xedpico de env\xedo con ",(0,a.jsx)(n.code,{children:"fetch"})," para entender el flujo."]}),"\n",(0,a.jsx)(n.h3,{id:"-env\xedo-como-json-cuando-no-hay-archivos",children:"\ud83d\udfe9 Env\xedo como JSON (cuando no hay archivos)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Enviar JSON con fetch (patr\xf3n t\xedpico)"',children:'formulario.addEventListener("submit", async (evento) => {\r\n  evento.preventDefault()\r\n\r\n  const datos = {\r\n    usuario: formulario.elements["usuario"].value,\r\n    correo: formulario.elements["correo"].value\r\n  }\r\n\r\n  // Ejemplo orientativo\r\n  await fetch("/api/registro", {\r\n    method: "POST",\r\n    headers: { "Content-Type": "application/json" },\r\n    body: JSON.stringify(datos)\r\n  })\r\n})\n'})}),"\n",(0,a.jsx)(n.h3,{id:"-env\xedo-como-formdata-cuando-hay-archivos",children:"\ud83d\udfe8 Env\xedo como FormData (cuando hay archivos)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="Enviar FormData (patr\xf3n t\xedpico)"',children:'formulario.addEventListener("submit", async (evento) => {\r\n  evento.preventDefault()\r\n\r\n  const formData = new FormData(formulario)\r\n\r\n  await fetch("/api/subida", {\r\n    method: "POST",\r\n    body: formData\r\n  })\r\n})\n'})}),"\n",(0,a.jsx)(n.admonition,{title:"Importante",type:"warning",children:(0,a.jsxs)(n.p,{children:["Con ",(0,a.jsx)(n.code,{children:"FormData"})," no se suele poner ",(0,a.jsx)(n.code,{children:"Content-Type"})," manualmente\r\nEl navegador lo gestiona (incluyendo el boundary)"]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"-buenas-pr\xe1cticas-con-formularios",children:["\u2705 ",(0,a.jsx)(n.strong,{children:"Buenas pr\xe1cticas con formularios"})]}),"\n",(0,a.jsx)(n.admonition,{title:"Sigue estos consejos...",type:"tip",children:(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Usa ",(0,a.jsx)(n.code,{children:"name"})," en todos los campos"]})," si vas a usar ",(0,a.jsx)(n.code,{children:"form.elements"})," o ",(0,a.jsx)(n.code,{children:"FormData"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Evita IDs duplicados"})," y usa ",(0,a.jsx)(n.code,{children:"label"})," con ",(0,a.jsx)(n.code,{children:"for"})," por accesibilidad"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Intercepta con ",(0,a.jsx)(n.code,{children:"submit"})," y ",(0,a.jsx)(n.code,{children:"preventDefault()"})]})," si vas a validar o enviar con JS"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Valida con HTML primero"})," y a\xf1ade JS solo para reglas extra"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Limpia errores personalizados"})," si usas ",(0,a.jsx)(n.code,{children:'setCustomValidity("")'})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"No conf\xedes en la validaci\xf3n del cliente"})," si los datos van a un servidor"]}),"\n"]})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var o=r(6540);const a={},s=o.createContext(a);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);