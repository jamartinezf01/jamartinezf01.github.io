"use strict";(self.webpackChunkp_my_dm=self.webpackChunkp_my_dm||[]).push([[3334],{464:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"aplicaciones m\xf3viles/5 Persistencia/FireBase/Firestore/consultas y filtrado","title":"Consultas y Filtrado","description":"Firestore ofrece un potente sistema de consultas que permite recuperar documentos de manera eficiente, aplicando filtros, ordenaciones y paginaci\xf3n. A diferencia de bases de datos SQL, Firestore no utiliza consultas con JOIN, sino que organiza la informaci\xf3n en colecciones y documentos, permitiendo realizar b\xfasquedas flexibles a trav\xe9s de su API. Mediante consultas y filtrado podremos...","source":"@site/docs/aplicaciones m\xf3viles/5 Persistencia/FireBase/Firestore/consultas y filtrado.md","sourceDirName":"aplicaciones m\xf3viles/5 Persistencia/FireBase/Firestore","slug":"/aplicaciones m\xf3viles/5 Persistencia/FireBase/Firestore/consultas y filtrado","permalink":"/docs/aplicaciones m\xf3viles/5 Persistencia/FireBase/Firestore/consultas y filtrado","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7}}');var o=r(4848),i=r(8453);const d={sidebar_position:7},c="Consultas y Filtrado",t={},a=[{value:"1. <strong>Obtener todos los documentos de una colecci\xf3n</strong>",id:"1-obtener-todos-los-documentos-de-una-colecci\xf3n",level:2},{value:"2. <strong>Filtrar datos con condiciones (<code>whereEqualTo()</code>, <code>whereGreaterThan()</code>, etc.)</strong>",id:"2-filtrar-datos-con-condiciones-whereequalto-wheregreaterthan-etc",level:2},{value:"Filtrar con <code>whereEqualTo()</code>",id:"filtrar-con-whereequalto",level:3},{value:"Filtrar con <code>whereGreaterThan()</code> y <code>whereLessThanOrEqualTo()</code>",id:"filtrar-con-wheregreaterthan-y-wherelessthanorequalto",level:3},{value:"Operadores disponibles:",id:"operadores-disponibles",level:3},{value:"3. <strong>Ordenaci\xf3n de datos con <code>orderBy()</code></strong>",id:"3-ordenaci\xf3n-de-datos-con-orderby",level:2},{value:"4. <strong>Consultas combinadas (m\xfaltiples condiciones)</strong>",id:"4-consultas-combinadas-m\xfaltiples-condiciones",level:2},{value:"5. <strong>Paginaci\xf3n de resultados con <code>limit()</code> y <code>startAfter()</code></strong>",id:"5-paginaci\xf3n-de-resultados-con-limit-y-startafter",level:2}];function l(e){const n={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"consultas-y-filtrado",children:"Consultas y Filtrado"})}),"\n",(0,o.jsxs)(n.p,{children:["Firestore ofrece un potente sistema de consultas que permite recuperar documentos de manera eficiente, aplicando filtros, ordenaciones y paginaci\xf3n. A diferencia de bases de datos SQL, Firestore ",(0,o.jsx)(n.strong,{children:"no utiliza consultas con JOIN"}),", sino que organiza la informaci\xf3n en colecciones y documentos, permitiendo realizar b\xfasquedas flexibles a trav\xe9s de su API. Mediante consultas y filtrado podremos..."]}),"\n",(0,o.jsxs)(n.p,{children:["\u2705 ",(0,o.jsx)(n.strong,{children:"Obtener todos los documentos de una colecci\xf3n"})," de forma sencilla.",(0,o.jsx)(n.br,{}),"\n","\u2705 ",(0,o.jsx)(n.strong,{children:"Filtrar datos"})," utilizando condiciones como ",(0,o.jsx)(n.code,{children:"whereEqualTo()"}),", ",(0,o.jsx)(n.code,{children:"whereGreaterThan()"}),", ",(0,o.jsx)(n.code,{children:"whereLessThanOrEqualTo()"}),", entre otros.",(0,o.jsx)(n.br,{}),"\n","\u2705 ",(0,o.jsx)(n.strong,{children:"Ordenar los resultados"})," mediante ",(0,o.jsx)(n.code,{children:"orderBy()"}),", permitiendo organizar los datos en orden ascendente o descendente.",(0,o.jsx)(n.br,{}),"\n","\u2705 ",(0,o.jsx)(n.strong,{children:"Combinar m\xfaltiples condiciones"})," en una misma consulta para obtener resultados m\xe1s precisos.",(0,o.jsx)(n.br,{}),"\n","\u2705 ",(0,o.jsx)(n.strong,{children:"Implementar paginaci\xf3n"})," con ",(0,o.jsx)(n.code,{children:"limit()"})," y ",(0,o.jsx)(n.code,{children:"startAfter()"})," para mejorar el rendimiento cuando manejamos grandes vol\xfamenes de datos."]}),"\n",(0,o.jsx)(n.p,{children:"Estas t\xe9cnicas son esenciales para optimizar el rendimiento y la escalabilidad de una aplicaci\xf3n que usa Firestore como base de datos."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"1-obtener-todos-los-documentos-de-una-colecci\xf3n",children:["1. ",(0,o.jsx)(n.strong,{children:"Obtener todos los documentos de una colecci\xf3n"})]}),"\n",(0,o.jsxs)(n.p,{children:["La forma m\xe1s b\xe1sica de obtener datos en Firestore es traer todos los documentos de una colecci\xf3n con ",(0,o.jsx)(n.code,{children:"get()"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["\ud83d\udd39 ",(0,o.jsx)(n.strong,{children:"Ejemplo"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\ndb.collection("peliculas")\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "ID: " + document.getId() + " -> " + document.getData());\r\n        }\r\n    })\r\n    .addOnFailureListener(e -> Log.w("Firestore", "Error al obtener documentos", e));\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'.collection("peliculas").get()'})," obtiene ",(0,o.jsx)(n.strong,{children:"todos los documentos"})," de la colecci\xf3n ",(0,o.jsx)(n.strong,{children:'"peliculas"'}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Se recorren los documentos y se imprimen sus datos."}),"\n"]})]}),"\n",(0,o.jsxs)(n.admonition,{type:"warning",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Cuidado:"})}),(0,o.jsxs)(n.p,{children:["Si la colecci\xf3n tiene ",(0,o.jsx)(n.strong,{children:"muchos documentos"}),", esta consulta puede afectar el rendimiento y aumentar los costos de Firestore."]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"2-filtrar-datos-con-condiciones-whereequalto-wheregreaterthan-etc",children:["2. ",(0,o.jsxs)(n.strong,{children:["Filtrar datos con condiciones (",(0,o.jsx)(n.code,{children:"whereEqualTo()"}),", ",(0,o.jsx)(n.code,{children:"whereGreaterThan()"}),", etc.)"]})]}),"\n",(0,o.jsx)(n.p,{children:"Firestore permite filtrar datos con condiciones en los campos de los documentos."}),"\n",(0,o.jsxs)(n.h3,{id:"filtrar-con-whereequalto",children:["Filtrar con ",(0,o.jsx)(n.code,{children:"whereEqualTo()"})]}),"\n",(0,o.jsx)(n.p,{children:"Para obtener documentos que coincidan con un valor espec\xedfico en un campo:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'db.collection("peliculas")\r\n    .whereEqualTo("genero", "Ciencia Ficci\xf3n")\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "Pel\xedcula: " + document.getString("titulo"));\r\n        }\r\n    })\r\n    .addOnFailureListener(e -> Log.w("Firestore", "Error al filtrar documentos", e));\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'whereEqualTo("genero", "Ciencia Ficci\xf3n")'})," obtiene solo las pel\xedculas del g\xe9nero ",(0,o.jsx)(n.strong,{children:'"Ciencia Ficci\xf3n"'}),"."]}),"\n"]})]}),"\n",(0,o.jsxs)(n.h3,{id:"filtrar-con-wheregreaterthan-y-wherelessthanorequalto",children:["Filtrar con ",(0,o.jsx)(n.code,{children:"whereGreaterThan()"})," y ",(0,o.jsx)(n.code,{children:"whereLessThanOrEqualTo()"})]}),"\n",(0,o.jsx)(n.p,{children:"Podemos obtener documentos con valores mayores, menores o iguales a un valor dado."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'db.collection("peliculas")\r\n    .whereGreaterThan("a\xf1o", 2010) // Pel\xedculas despu\xe9s de 2010\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "Pel\xedcula: " + document.getString("titulo") + ", A\xf1o: " + document.getLong("a\xf1o"));\r\n        }\r\n    })\r\n    .addOnFailureListener(e -> Log.w("Firestore", "Error en la consulta", e));\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'whereGreaterThan("a\xf1o", 2010)'})," filtra ",(0,o.jsx)(n.strong,{children:"solo las pel\xedculas estrenadas despu\xe9s de 2010"}),"."]}),"\n"]})]}),"\n",(0,o.jsx)(n.h3,{id:"operadores-disponibles",children:"Operadores disponibles:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Operador"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Ejemplo de uso"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereEqualTo()"})}),(0,o.jsx)(n.td,{children:"Coincidencia exacta con un valor espec\xedfico."}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereEqualTo("genero", "Acci\xf3n")'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereNotEqualTo()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el campo ",(0,o.jsx)(n.strong,{children:"no sea igual"})," al valor dado."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereNotEqualTo("genero", "Terror")'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereGreaterThan()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el campo sea ",(0,o.jsx)(n.strong,{children:"mayor que"})," un valor."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereGreaterThan("a\xf1o", 2000)'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereGreaterThanOrEqualTo()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el campo sea ",(0,o.jsx)(n.strong,{children:"mayor o igual"})," a un valor."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereGreaterThanOrEqualTo("a\xf1o", 2010)'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereLessThan()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el campo sea ",(0,o.jsx)(n.strong,{children:"menor que"})," un valor."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereLessThan("a\xf1o", 2000)'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereLessThanOrEqualTo()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el campo sea ",(0,o.jsx)(n.strong,{children:"menor o igual"})," a un valor."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereLessThanOrEqualTo("a\xf1o", 1999)'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereArrayContains()"})}),(0,o.jsx)(n.td,{children:"Filtra documentos donde un array contenga un valor espec\xedfico."}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereArrayContains("actores", "Leonardo DiCaprio")'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereArrayContainsAny()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde un array contenga ",(0,o.jsx)(n.strong,{children:"al menos uno"})," de varios valores."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereArrayContainsAny("actores", Arrays.asList("Tom Hardy", "Brad Pitt"))'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereIn()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el valor del campo ",(0,o.jsx)(n.strong,{children:"coincida con cualquiera de una lista"})," dada."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereIn("genero", Arrays.asList("Acci\xf3n", "Ciencia Ficci\xf3n"))'})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"whereNotIn()"})}),(0,o.jsxs)(n.td,{children:["Filtra documentos donde el valor del campo ",(0,o.jsx)(n.strong,{children:"no coincida con ninguno de una lista"})," dada."]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'.whereNotIn("genero", Arrays.asList("Romance", "Drama"))'})})]})]})]}),"\n",(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsxs)(n.mdxAdmonitionTitle,{children:[(0,o.jsx)(n.strong,{children:"Notas importantes sobre los operadores"}),":"]}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"whereNotEqualTo()"})," y ",(0,o.jsx)(n.code,{children:"whereNotIn()"})]})," no se pueden usar en la misma consulta con otros filtros de ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"whereEqualTo()"})}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"whereArrayContains()"})})," solo funciona para buscar elementos dentro de ",(0,o.jsx)(n.strong,{children:"arrays"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"whereIn()"})," y ",(0,o.jsx)(n.code,{children:"whereArrayContainsAny()"})]})," permiten ",(0,o.jsx)(n.strong,{children:"m\xe1ximo 10 valores"})," en la lista."]}),"\n"]})]}),"\n",(0,o.jsxs)(n.h2,{id:"3-ordenaci\xf3n-de-datos-con-orderby",children:["3. ",(0,o.jsxs)(n.strong,{children:["Ordenaci\xf3n de datos con ",(0,o.jsx)(n.code,{children:"orderBy()"})]})]}),"\n",(0,o.jsxs)(n.p,{children:["Firestore permite ordenar resultados por un campo espec\xedfico con ",(0,o.jsx)(n.code,{children:"orderBy()"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["\ud83d\udd39 ",(0,o.jsx)(n.strong,{children:"Ejemplo: Ordenar pel\xedculas por a\xf1o de estreno"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'db.collection("peliculas")\r\n    .orderBy("a\xf1o") // Orden ascendente\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "Pel\xedcula: " + document.getString("titulo") + ", A\xf1o: " + document.getLong("a\xf1o"));\r\n        }\r\n    })\r\n    .addOnFailureListener(e -> Log.w("Firestore", "Error en la ordenaci\xf3n", e));\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'orderBy("a\xf1o")'})," ordena las pel\xedculas ",(0,o.jsx)(n.strong,{children:"de m\xe1s antigua a m\xe1s reciente"}),"."]}),"\n"]}),(0,o.jsxs)(n.p,{children:["\ud83d\udd39 ",(0,o.jsxs)(n.strong,{children:["Orden descendente (",(0,o.jsx)(n.code,{children:"DESC"}),")"]})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'.orderBy("a\xf1o", Query.Direction.DESCENDING)\n'})})]}),"\n",(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Reglas de Firestore:"})}),(0,o.jsxs)(n.p,{children:["Si usas ",(0,o.jsx)(n.code,{children:"whereGreaterThan()"}),", ",(0,o.jsxs)(n.strong,{children:["debes incluir ",(0,o.jsx)(n.code,{children:"orderBy()"})," en el mismo campo"]}),".",(0,o.jsx)(n.br,{}),"\n","Por ejemplo:"]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'.whereGreaterThan("a\xf1o", 2010)\r\n.orderBy("a\xf1o")\n'})})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"4-consultas-combinadas-m\xfaltiples-condiciones",children:["4. ",(0,o.jsx)(n.strong,{children:"Consultas combinadas (m\xfaltiples condiciones)"})]}),"\n",(0,o.jsx)(n.p,{children:"Firestore permite combinar varias condiciones en una misma consulta."}),"\n",(0,o.jsxs)(n.p,{children:["\ud83d\udd39 ",(0,o.jsx)(n.strong,{children:"Ejemplo: Pel\xedculas de ciencia ficci\xf3n despu\xe9s del a\xf1o 2000"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'db.collection("peliculas")\r\n    .whereEqualTo("genero", "Ciencia Ficci\xf3n")\r\n    .whereGreaterThan("a\xf1o", 2000)\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "Pel\xedcula: " + document.getString("titulo") + ", A\xf1o: " + document.getLong("a\xf1o"));\r\n        }\r\n    })\r\n    .addOnFailureListener(e -> Log.w("Firestore", "Error en la consulta", e));\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'.whereEqualTo("genero", "Ciencia Ficci\xf3n")'})," filtra solo pel\xedculas de ese g\xe9nero."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'.whereGreaterThan("a\xf1o", 2000)'})," filtra solo pel\xedculas posteriores al a\xf1o 2000."]}),"\n"]})]}),"\n",(0,o.jsxs)(n.admonition,{type:"warning",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Limitaciones:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["No se pueden usar ",(0,o.jsx)(n.strong,{children:"dos condiciones en distintos campos sin \xedndices compuestos"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Si necesitas m\xfaltiples condiciones, ",(0,o.jsx)(n.strong,{children:"debes crear \xedndices en Firebase Console"}),"."]}),"\n"]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.h2,{id:"5-paginaci\xf3n-de-resultados-con-limit-y-startafter",children:["5. ",(0,o.jsxs)(n.strong,{children:["Paginaci\xf3n de resultados con ",(0,o.jsx)(n.code,{children:"limit()"})," y ",(0,o.jsx)(n.code,{children:"startAfter()"})]})]}),"\n",(0,o.jsx)(n.p,{children:"Firestore permite paginar resultados para evitar cargar demasiados documentos a la vez."}),"\n",(0,o.jsxs)(n.p,{children:["\ud83d\udd39 ",(0,o.jsx)(n.strong,{children:"Ejemplo: Obtener solo los primeros 3 resultados"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'db.collection("peliculas")\r\n    .orderBy("a\xf1o")\r\n    .limit(3)\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "Pel\xedcula: " + document.getString("titulo") + ", A\xf1o: " + document.getLong("a\xf1o"));\r\n        }\r\n    })\r\n    .addOnFailureListener(e -> Log.w("Firestore", "Error en la consulta paginada", e));\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:".limit(3)"})," devuelve solo ",(0,o.jsx)(n.strong,{children:"los primeros 3 documentos"}),"."]}),"\n"]})]}),"\n",(0,o.jsxs)(n.p,{children:["\ud83d\udd39 ",(0,o.jsx)(n.strong,{children:"Ejemplo: Obtener la siguiente p\xe1gina de resultados"}),"\r\nPara obtener la siguiente p\xe1gina, usamos ",(0,o.jsx)(n.code,{children:"startAfter()"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'// \xdaltimo documento de la p\xe1gina actual\r\nDocumentSnapshot ultimoDocumento = ...;\r\n\r\ndb.collection("peliculas")\r\n    .orderBy("a\xf1o")\r\n    .startAfter(ultimoDocumento) // Contin\xfaa desde el \xfaltimo documento de la p\xe1gina anterior\r\n    .limit(3)\r\n    .get()\r\n    .addOnSuccessListener(queryDocumentSnapshots -> {\r\n        for (DocumentSnapshot document : queryDocumentSnapshots) {\r\n            Log.d("Firestore", "Pel\xedcula: " + document.getString("titulo") + ", A\xf1o: " + document.getLong("a\xf1o"));\r\n        }\r\n    });\n'})}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.mdxAdmonitionTitle,{children:(0,o.jsx)(n.strong,{children:"Explicaci\xf3n:"})}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"startAfter(ultimoDocumento)"})," salta los documentos ya mostrados."]}),"\n",(0,o.jsxs)(n.li,{children:["Se usa ",(0,o.jsx)(n.code,{children:"limit(3)"})," para traer ",(0,o.jsx)(n.strong,{children:"la siguiente p\xe1gina"}),"."]}),"\n"]})]}),"\n",(0,o.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var s=r(6540);const o={},i=s.createContext(o);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);